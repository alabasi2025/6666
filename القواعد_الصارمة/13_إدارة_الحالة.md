# ๐ถ ููุงุนุฏ ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุงูุจูุงูุงุช (State & Data Management)

> **ุงููุฆุฉ:** ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุงูุจูุงูุงุช  
> **ุนุฏุฏ ุงูููุงุนุฏ:** 2 ููุงุนุฏ  
> **ูุณุชูู ุงูุฃูููุฉ:** ุนุงูู

---

## ุงููุงุนุฏุฉ 39: ูุตุฏุฑ ุงูุญูููุฉ ุงููุงุญุฏ (Single Source of Truth Rule)

> **ูู ูุทุนุฉ ุจูุงูุงุช ูุฌุจ ุฃู ูููู ููุง ูุตุฏุฑ ูุงุญุฏ ููุท.**

**ุงููุจุฏุฃ ุงูุฃุณุงุณู:**
> "ูุง ุชูุฑุฑ ุงูุจูุงูุงุช. ุฅุฐุง ุชุบูุฑุช ูู ููุงูุ ูุฌุจ ุฃู ุชุชุบูุฑ ูู ูู ููุงู."

**ุฃูุซูุฉ:**
```typescript
// โ ุฎุทุฃ - ุจูุงูุงุช ููุฑุฑุฉ
const [userName, setUserName] = useState('');
const [userEmail, setUserEmail] = useState('');
const [userAge, setUserAge] = useState(0);

// โ ุตุญูุญ - ูุตุฏุฑ ูุงุญุฏ
const [user, setUser] = useState<User | null>(null);

// โ ุฎุทุฃ - ุญุณุงุจ ููุฑุฑ
const [total, setTotal] = useState(0);
const [items, setItems] = useState([]);
// ูุฌุจ ุชุญุฏูุซ total ูุฏููุงู ุนูุฏ ุชุบููุฑ items

// โ ุตุญูุญ - ุญุณุงุจ ูุดุชู
const [items, setItems] = useState([]);
const total = useMemo(
  () => items.reduce((sum, item) => sum + item.price, 0),
  [items]
);
```

**ุงูุนููุจุฉ:** ุชุญุฐูุฑ - ุงูุจูุงูุงุช ุงูููุฑุฑุฉ ุชูุทูุจ ุชูุญูุฏูุง.

---

## ุงููุงุนุฏุฉ 40: ุนุฏู ุชุบููุฑ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ (Immutability Rule)

> **ุงูุจูุงูุงุช ูุฌุจ ุฃูุง ุชูุบููุฑ ูุจุงุดุฑุฉ. ุฏุงุฆูุงู ุฃูุดุฆ ูุณุฎุฉ ุฌุฏูุฏุฉ.**

**ุฃูุซูุฉ:**
```typescript
// โ ุฎุทุฃ - ุชุบููุฑ ูุจุงุดุฑ
const updateUser = (user, name) => {
  user.name = name;  // ุชุบููุฑ ูุจุงุดุฑ!
  return user;
};

// โ ุตุญูุญ - ูุณุฎุฉ ุฌุฏูุฏุฉ
const updateUser = (user, name) => ({
  ...user,
  name
});

// โ ุฎุทุฃ - ุชุบููุฑ ูุตูููุฉ ูุจุงุดุฑุฉ
const addItem = (items, newItem) => {
  items.push(newItem);  // ุชุบููุฑ ูุจุงุดุฑ!
  return items;
};

// โ ุตุญูุญ - ูุตูููุฉ ุฌุฏูุฏุฉ
const addItem = (items, newItem) => [...items, newItem];

// โ ุตุญูุญ - ุญุฐู ูู ูุตูููุฉ
const removeItem = (items, id) => items.filter(item => item.id !== id);

// โ ุตุญูุญ - ุชุญุฏูุซ ุนูุตุฑ ูู ูุตูููุฉ
const updateItem = (items, id, updates) => 
  items.map(item => item.id === id ? { ...item, ...updates } : item);
```

**ุงูุนููุจุฉ:** ุฑูุถ ุงูุฏูุฌ - ุฃู mutation ูุจุงุดุฑ ููุฑูุถ.

---

## ููุฎุต ููุงุนุฏ ุฅุฏุงุฑุฉ ุงูุญุงูุฉ

| # | ุงููุงุนุฏุฉ | ุงูุนููุจุฉ |
|:---:|:---|:---:|
| 39 | ูุตุฏุฑ ุงูุญูููุฉ ุงููุงุญุฏ (Single Source of Truth) | ุชุญุฐูุฑ |
| 40 | ุนุฏู ุชุบููุฑ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ (Immutability) | ุฑูุถ |
