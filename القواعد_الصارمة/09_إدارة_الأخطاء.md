# ๐ข ููุงุนุฏ ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก (Error Management)

> **ุงููุฆุฉ:** ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก  
> **ุนุฏุฏ ุงูููุงุนุฏ:** 2 ููุงุนุฏ  
> **ูุณุชูู ุงูุฃูููุฉ:** ุนุงูู

---

## ุงููุงุนุฏุฉ 28: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูููุญุฏุฉ (Unified Error Handling Rule)

> **ูู ุฎุทุฃ ูุฌุจ ุฃู ููุนุงูุฌ ุจุฑุณุงูุฉ ูุงุถุญุฉ ูููุฏ ูุญุฏุฏ ููููู ููุญุฏ.**

**ูููู ุงูุฎุทุฃ ุงูููุญุฏ:**
```typescript
interface ApiError {
  success: false;
  error: {
    code: string;           // ููุฏ ูุฑูุฏ ููุฎุทุฃ
    message: string;        // ุฑุณุงูุฉ ูููุณุชุฎุฏู (ุจุงูุนุฑุจูุฉ)
    details?: object;       // ุชูุงุตูู ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)
    field?: string;         // ุงูุญูู ุงููุชุณุจุจ (ููุชุญูู)
  };
  requestId: string;        // ููุฏุนู ุงูููู
  timestamp: string;
}

// ุฃูุซูุฉ ุนูู ุฃููุงุฏ ุงูุฃุฎุทุงุก
const ErrorCodes = {
  // ุฃุฎุทุงุก ุงููุตุงุฏูุฉ (AUTH_XXX)
  AUTH_INVALID_CREDENTIALS: 'ุจูุงูุงุช ุงูุฏุฎูู ุบูุฑ ุตุญูุญุฉ',
  AUTH_TOKEN_EXPIRED: 'ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ',
  AUTH_UNAUTHORIZED: 'ุบูุฑ ูุตุฑุญ ูู ุจูุฐู ุงูุนูููุฉ',
  
  // ุฃุฎุทุงุก ุงูุชุญูู (VAL_XXX)
  VAL_REQUIRED_FIELD: 'ูุฐุง ุงูุญูู ูุทููุจ',
  VAL_INVALID_EMAIL: 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุงูุญ',
  VAL_MIN_LENGTH: 'ุงููุต ูุตูุฑ ุฌุฏุงู',
  
  // ุฃุฎุทุงุก ุงูููุงุฑุฏ (RES_XXX)
  RES_NOT_FOUND: 'ุงูุนูุตุฑ ุบูุฑ ููุฌูุฏ',
  RES_ALREADY_EXISTS: 'ุงูุนูุตุฑ ููุฌูุฏ ูุณุจูุงู',
  RES_CONFLICT: 'ุชุนุงุฑุถ ูู ุงูุจูุงูุงุช',
  
  // ุฃุฎุทุงุก ุงููุธุงู (SYS_XXX)
  SYS_DATABASE_ERROR: 'ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช',
  SYS_INTERNAL_ERROR: 'ุฎุทุฃ ุฏุงุฎูู ูู ุงููุธุงู',
  SYS_SERVICE_UNAVAILABLE: 'ุงูุฎุฏูุฉ ุบูุฑ ูุชุงุญุฉ ุญุงููุงู'
};
```

**ุงูุนููุจุฉ:** ุฑูุถ ุงูุฏูุฌ - ุฃู ุฎุทุฃ ุจุฏูู ููุฏ ููููู ููุญุฏ ููุฑูุถ.

---

## ุงููุงุนุฏุฉ 29: ุงูุชุนุงูู ูู ุงูุฃุฎุทุงุก (Error Recovery Rule)

> **ุงููุธุงู ูุฌุจ ุฃู ูุชุนุงูู ุจุฐูุงุก ูู ุงูุฃุฎุทุงุก ุฏูู ุชููู ูุงูู.**

**ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุนุงูู:**

| ุงูุฎุทุฃ | ุงูุงุณุชุฑุงุชูุฌูุฉ |
|:---|:---|
| ูุดู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช | ุฅุนุงุฏุฉ ุงููุญุงููุฉ 3 ูุฑุงุช ูุน ุชุฃุฎูุฑ |
| ูุดู API ุฎุงุฑุฌู | ุงุณุชุฎุฏุงู Cache ุฃู ูููุฉ ุงูุชุฑุงุถูุฉ |
| ุฎุทุฃ ูู ูุนุงูุฌุฉ ุทูุจ | ุนุฒู ุงูุฎุทุฃ ูุฅููุงู ุงูุจุงูู |
| ููุงุฏ ุงูุฐุงูุฑุฉ | ุชูุธูู Cache ูุชุญุฑูุฑ ุงูููุงุฑุฏ |

**ูุซุงู ุนูู ุฅุนุงุฏุฉ ุงููุญุงููุฉ:**
```typescript
async function withRetry<T>(
  fn: () => Promise<T>,
  maxRetries = 3,
  delay = 1000
): Promise<T> {
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      return await fn();
    } catch (error) {
      if (attempt === maxRetries) throw error;
      
      logger.warn(`Attempt ${attempt} failed, retrying...`, { error });
      await sleep(delay * attempt);  // ุชุฃุฎูุฑ ูุชุฒุงูุฏ
    }
  }
  throw new Error('Max retries exceeded');
}

// ุงูุงุณุชุฎุฏุงู
const data = await withRetry(() => fetchFromDatabase(id));
```

**ุงูุนููุจุฉ:** ุชุญุฐูุฑ - ุงูุนูููุงุช ุงูุญุฑุฌุฉ ุจุฏูู retry ุชูุฑุงุฌุน.

---

## ููุฎุต ููุงุนุฏ ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก

| # | ุงููุงุนุฏุฉ | ุงูุนููุจุฉ |
|:---:|:---|:---:|
| 28 | ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูููุญุฏุฉ | ุฑูุถ |
| 29 | ุงูุชุนุงูู ูู ุงูุฃุฎุทุงุก (Retry) | ุชุญุฐูุฑ |
