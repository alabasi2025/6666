# ูุญุฑู ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุชููุงุฆู
## Auto Journal Entry Engine

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 6 ููุงูุฑ 2026  
**ุงูุญุงูุฉ:** โ ููููุฐ ููุฑุจูุท ุจุงูุฃูุธูุฉ

---

## ๐ **ูุธุฑุฉ ุนุงูุฉ**

ูุญุฑู ุชููุงุฆู ููุดุฆ ุงููููุฏ ุงููุญุงุณุจูุฉ ุนูุฏ ุฃู ุนูููุฉ ูุงููุฉ ุจุฏูู ุชุฏุฎู ูุฏูู. ุงููุญุฑู ูุฑุชุจุท ุชููุงุฆูุงู ุจุฅูุดุงุก ุงูููุงุชูุฑ ูุงููุฏููุนุงุช.

---

## ๐ฏ **ุงูููุฒุงุช**

โ ุฅูุดุงุก ูููุฏ ุชููุงุฆูุฉ ุนูุฏ:
- ุฅูุดุงุก ูุงุชูุฑุฉ
- ุงุณุชูุงู ุฏูุนุฉ
- ุดุญู STS
- ุงุณุชูุงู ุจุถุงุฆุน (GRN)
- ุฏูุน ููุฑุฏ
- ุตุฑู ุฑูุงุชุจ

โ ุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุชูุงุฒู (ุงููุฏูู = ุงูุฏุงุฆู)  
โ ุงูุชุฑุญูู ุงูุชููุงุฆู ูููููุฏ  
โ ุชุญุฏูุซ ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช ุชููุงุฆูุงู  
โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุน Logging

---

## ๐ง **ุงูุงุณุชุฎุฏุงู**

### **1. ุนูุฏ ุฅูุดุงุก ูุงุชูุฑุฉ:**

```typescript
import { AutoJournalEngine } from "./core/auto-journal-engine";

// ูุชู ุงุณุชุฏุนุงุคู ุชููุงุฆูุงู ูู routers.ts
const journalEntryId = await AutoJournalEngine.onInvoiceCreated({
  id: invoiceId,
  businessId: 1,
  customerId: 123,
  invoiceNumber: "INV-001",
  invoiceDate: new Date(),
  totalAmount: 1000,
  createdBy: userId,
});
```

**ุงูููุฏ ุงููููุดุฃ:**
- ูุฏูู: ุญ/ ุงูุนููุงุก (1200) = 1000
- ุฏุงุฆู: ุญ/ ุฅูุฑุงุฏุงุช ุงูููุฑุจุงุก (4100) = 1000

---

### **2. ุนูุฏ ุงุณุชูุงู ุฏูุนุฉ:**

```typescript
// ูุชู ุงุณุชุฏุนุงุคู ุชููุงุฆูุงู ูู customerSystemRouter.ts
const journalEntryId = await AutoJournalEngine.onPaymentReceived({
  id: paymentId,
  businessId: 1,
  customerId: 123,
  invoiceId: 456,
  amount: 1000,
  paymentMethod: "cash", // ุฃู "bank" ุฃู "card"
  bankId: 1, // ุงุฎุชูุงุฑู
  paymentDate: new Date(),
  createdBy: userId,
});
```

**ุงูููุฏ ุงููููุดุฃ:**
- ูุฏูู: ุญ/ ุงูููุฏูุฉ (1100) ุฃู ุญ/ ุงูุจูู = 1000
- ุฏุงุฆู: ุญ/ ุงูุนููุงุก (1200) = 1000

---

### **3. ุนูุฏ ุดุญู STS:**

```typescript
const journalEntryId = await AutoJournalEngine.onSTSRecharge({
  id: rechargeId,
  businessId: 1,
  customerId: 123,
  meterId: 789,
  amount: 50,
  bankId: 1,
  rechargeDate: new Date(),
  createdBy: userId,
});
```

**ุงูููุฏ ุงููููุดุฃ:**
- ูุฏูู: ุญ/ ุงูุจูู (1110) = 50
- ุฏุงุฆู: ุญ/ ุฅูุฑุงุฏ ุฏูุน ูุณุจู (4101) = 50

---

## ๐ **ุงูุญุณุงุจุงุช ุงููุทููุจุฉ**

ูุฌุจ ุฅูุดุงุก ุงูุญุณุงุจุงุช ุงูุชุงููุฉ ูู ุดุฌุฑุฉ ุงูุญุณุงุจุงุช:

| ุงูููุฏ | ุงูุงุณู | ุงูููุน |
|-------|-------|-------|
| 1100 | ุงูููุฏูุฉ | ุฃุตู (ูุฏูู) |
| 1110 | ุงูุจูู | ุฃุตู (ูุฏูู) |
| 1200 | ุงูุนููุงุก | ุฃุตู (ูุฏูู) |
| 1300 | ุงููุฎุฒูู | ุฃุตู (ูุฏูู) |
| 2100 | ุงูููุฑุฏูู | ุงูุชุฒุงู (ุฏุงุฆู) |
| 2200 | ุจุถุงุนุฉ ูุงุฑุฏุฉ | ุงูุชุฒุงู (ุฏุงุฆู) |
| 4100 | ุฅูุฑุงุฏุงุช ุงูููุฑุจุงุก | ุฅูุฑุงุฏ (ุฏุงุฆู) |
| 4101 | ุฅูุฑุงุฏ ุฏูุน ูุณุจู | ุฅูุฑุงุฏ (ุฏุงุฆู) |
| 5100 | ุฑูุงุชุจ | ูุตุฑูู (ูุฏูู) |

---

## โ๏ธ **ููุงุญุธุงุช ูููุฉ**

1. **ุงูุญุณุงุจุงุช ุงููุณูุทุฉ:** ุงููุญุฑู ูุณุชุฎุฏู ุงูุญุณุงุจุงุช ุงููุจุงุดุฑุฉ ุญุงููุงู. ุณูุชู ุฅุถุงูุฉ ุฏุนู ุงูุญุณุงุจุงุช ุงููุณูุทุฉ ูู ูุญุฑู ุงูุชุณููุฉ ุงููุฑู.

2. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:** ุฅุฐุง ูุดู ุฅูุดุงุก ุงูููุฏุ ูุชู ุชุณุฌูู ุงูุฎุทุฃ ููุท ููุง ูุชู ุฅููุงู ุงูุนูููุฉ ุงูุฃุณุงุณูุฉ (ุฅูุดุงุก ุงููุงุชูุฑุฉ/ุงูุฏูุนุฉ).

3. **ุงูุชุฑุญูู ุงูุชููุงุฆู:** ุฌููุน ุงููููุฏ ูุชู ุชุฑุญูููุง ุชููุงุฆูุงู (status = "posted").

4. **ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ:** ุงููุญุฑู ูุณุชุฎุฏู ุงููุชุฑุฉ ุงููุญุงุณุจูุฉ ุงููุดุทุฉ ุชููุงุฆูุงู.

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

- [ ] ุฅุถุงูุฉ ุฏุนู ุงูุญุณุงุจุงุช ุงููุณูุทุฉ
- [ ] ุฅุถุงูุฉ ูููุฏ ุฅุถุงููุฉ (ุงุณุชุจุฏุงู ุนุฏุงุฏุ ุชุฑููุฉุ ุฅูุฎ)
- [ ] ุฅุถุงูุฉ ูุงุฌูุฉ ูุฅุฏุงุฑุฉ ุงููููุฏ ุงูุชููุงุฆูุฉ
- [ ] ุฅุถุงูุฉ ุฅููุงููุฉ ุชุนุทูู ุงููููุฏ ุงูุชููุงุฆูุฉ ููู ููุน

---

**ุขุฎุฑ ุชุญุฏูุซ:** 6 ููุงูุฑ 2026

