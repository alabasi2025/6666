# โ ุฃูุธูุฉ ุงูุฏูุน ูุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ - Payment Modes and Multi-Tariffs

**ุชุงุฑูุฎ:** 2026-01-06

---

## ๐ ุฃููุงุน ุฃูุธูุฉ ุงูุฏูุน

### 1. โ ุงูุฏูุน ุงูุขุฌู (Postpaid)
**ุงููุตู:**
- ุงูุนููู ูุณุชููู ุงูุทุงูุฉ ุฃููุงู
- ุชุตุฏุฑ ุงูููุงุชูุฑ ุจุนุฏ ุงูุงุณุชููุงู
- ูุญุงุณุจ ุจุนุฏ ุงูุงุณุชููุงู

**ุงููุฏุนูู ูู:**
- โ ADL200 (ุนุฏุงุฏุงุช ุงููุดุชุฑููู)
- โ STS (ุนุฏุงุฏุงุช ุงูุฏูุน ุงููุณุจู)

---

### 2. โ ุงูุฏูุน ุงููุณุจู (Prepaid)
**ุงููุตู:**
- ุงูุนููู ูุณุฏุฏ ูุณุจูุงู
- ูุณุชููู ุญุณุจ ุงูุฑุตูุฏ

**ุงูุงุฎุชูุงู ุจูู ADL200 ู STS:**

#### ADL200:
- ุงูุฑุตูุฏ ููุฏู (ุฑูุงู)
- ูุชูุงูุต ุญุณุจ ุณุนุฑ ุงูุชุนุฑูุฉ

#### STS:
- **ูููุฏ ูููููุงุช** (KWH) ูููุณ ุฑุตูุฏ ููุฏู
- ุงูููุฏ ุงูุฐู ููููุฏ ูุญุชูู ุนูู ูููููุงุช
- ุญุณุจ ุงูุชุนุฑูุฉ ุงููุญุฏุฏุฉ ุนูุฏ ุงูุดุญู

**ุงููุฏุนูู ูู:**
- โ ADL200 (ุฑุตูุฏ ููุฏู)
- โ STS (ูููููุงุช)

---

### 3. โ ุงูุงุฆุชูุงู (Credit)
**ุงููุตู:**
- ุงูุนููู ูุถุน ุชุฃููู (Security Deposit)
- ุงูุนุฏุงุฏ ูุตุฏุฑ ููุงุชูุฑ ุนูู ุฃุณุงุณ ุงูุฏูุน ุงูุขุฌู
- **ุฅุฐุง ูุตู ุงูุฏูู ุฅูู ูุจูุบ ุงูุงุฆุชูุงู โ ุงูุนุฏุงุฏ ูุทูุฃ ุชููุงุฆูุงู**

**ุงููุฏุนูู ูู:**
- โ ADL200
- โ STS

---

## โฐ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ (Time of Use Tariffs)

### โ ุฏุนู 8 ุชุนุฑูุงุช ูู ุงูููู

**ุงููุฏุนูู ูู:**
- โ ADL200
- โ STS

**ูุซุงู ุงูุงุณุชุฎุฏุงู:**
- **ุชุนุฑูุฉ ุงูููุงุฑ** (06:00 - 18:00): ุณุนุฑ ููุฎูุถ ููุงุณุชููุงู ุฎูุงู ุฅูุชุงุฌ ุงูุทุงูุฉ ุงูุดูุณูุฉ
- **ุชุนุฑูุฉ ุงููุณุงุก** (18:00 - 22:00): ุณุนุฑ ูุชูุณุท
- **ุชุนุฑูุฉ ุงูููู** (22:00 - 06:00): ุณุนุฑ ุนุงุฏู

**ูููู ุชุญุฏูุฏ ุญุชู 8 ุชุนุฑูุงุช ูุฎุชููุฉ ุฎูุงู ุงูููู**

---

## ๐ง ุงููุธุงุฆู ุงููุชููุฑุฉ

### ูู AcrelAPIClient ู STSAPIClient:

#### ุฃูุธูุฉ ุงูุฏูุน:
- โ `setPostpaidMode()` - ุชูุนูู/ุชุนุทูู ุงูุฏูุน ุงูุขุฌู
- โ `setPrepaidMode()` - ุชูุนูู/ุชุนุทูู ุงูุฏูุน ุงููุณุจู
- โ `rechargeBalance()` - ุดุญู ุงูุฑุตูุฏ (ูููุณุจู ุงูุฏูุน)
- โ `getPrepaidBalance()` - ุฌูุจ ูุนูููุงุช ุงูุฑุตูุฏ
- โ `setCreditLimit()` - ุฅุนุฏุงุฏ ุญุฏ ุงูุงุฆุชูุงู
- โ `getCreditInfo()` - ุฌูุจ ูุนูููุงุช ุงูุงุฆุชูุงู
- โ `getPaymentMode()` - ุฌูุจ ููุน ุงูุฏูุน ุงูุญุงูู

#### ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ:
- โ `setMultiTariffSchedule()` - ุฅุนุฏุงุฏ ุฌุฏูู ุงูุชุนุฑูุงุช (ุญุชู 8 ุชุนุฑูุงุช)
- โ `getMultiTariffSchedule()` - ุฌูุจ ุฌุฏูู ุงูุชุนุฑูุงุช

---

### ูู AcrelService ู STSService:

- โ ุฌููุน ุงููุธุงุฆู ุฃุนูุงู ูุน ุฑุจุทูุง ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุฅุนุฏุงุฏ ุงูุฏูุน ุงููุณุจู (ADL200):
```typescript
// ุชูุนูู ุงูุฏูุน ุงููุณุจู
await acrelService.setPrepaidMode(meterId, true);

// ุดุญู ุงูุฑุตูุฏ (ุฑูุงู)
await acrelService.rechargeBalance(meterId, 100); // 100 ุฑูุงู

// ุฌูุจ ูุนูููุงุช ุงูุฑุตูุฏ
const balance = await acrelService.getPrepaidBalance(meterId);
console.log("ุงูุฑุตูุฏ ุงูุญุงูู:", balance.balance); // ุฑูุงู
```

### ุฅุนุฏุงุฏ ุงูุฏูุน ุงููุณุจู (STS):
```typescript
// ุชูุนูู ุงูุฏูุน ุงููุณุจู
await stsService.setPrepaidMode(meterId, true);

// ุดุญู ุงูุฑุตูุฏ (ูููุฏ ูููููุงุช ุญุณุจ ุงูุชุนุฑูุฉ)
const result = await stsService.rechargeBalance(meterId, 100, tariffId);
console.log("ุงููููููุงุช ุงููููุฏุฉ:", result.kwhGenerated); // ูููููุงุช

// ุฌูุจ ูุนูููุงุช ุงูุฑุตูุฏ
const balance = await stsService.getPrepaidBalance(meterId);
console.log("ุงููููููุงุช ุงููุชุจููุฉ:", balance.remainingKWH); // ูููููุงุช
```

### ุฅุนุฏุงุฏ ุงูุงุฆุชูุงู:
```typescript
// ุฅุนุฏุงุฏ ุญุฏ ุงูุงุฆุชูุงู (500 ุฑูุงู)
await acrelService.setCreditLimit(meterId, 500, true); // autoDisconnect = true

// ุฌูุจ ูุนูููุงุช ุงูุงุฆุชูุงู
const credit = await acrelService.getCreditInfo(meterId);
console.log("ุญุฏ ุงูุงุฆุชูุงู:", credit.creditLimit);
console.log("ุงูุฏูู ุงูุญุงูู:", credit.currentDebt);
console.log("ุงูุงุฆุชูุงู ุงููุชุจูู:", credit.remainingCredit);

// ุฅุฐุง ูุตู ุงูุฏูู ุฅูู 500 ุฑูุงู โ ุงูุนุฏุงุฏ ูุทูุฃ ุชููุงุฆูุงู
```

### ุฅุนุฏุงุฏ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ (8 ุชุนุฑูุงุช):
```typescript
const schedule: MultiTariffSchedule = {
  meterId: "meter_001",
  tariffs: [
    {
      tariffId: "tariff_1",
      name: "ุชุนุฑูุฉ ุงูููุงุฑ (ุดูุณูุฉ)",
      startTime: "06:00",
      endTime: "10:00",
      pricePerKWH: 0.12, // ุณุนุฑ ููุฎูุถ
      isActive: true,
    },
    {
      tariffId: "tariff_2",
      name: "ุชุนุฑูุฉ ุงูุตุจุงุญ",
      startTime: "10:00",
      endTime: "14:00",
      pricePerKWH: 0.15,
      isActive: true,
    },
    {
      tariffId: "tariff_3",
      name: "ุชุนุฑูุฉ ุงูุธููุฑุฉ",
      startTime: "14:00",
      endTime: "18:00",
      pricePerKWH: 0.18,
      isActive: true,
    },
    {
      tariffId: "tariff_4",
      name: "ุชุนุฑูุฉ ุงููุณุงุก",
      startTime: "18:00",
      endTime: "22:00",
      pricePerKWH: 0.20,
      isActive: true,
    },
    {
      tariffId: "tariff_5",
      name: "ุชุนุฑูุฉ ุงูููู",
      startTime: "22:00",
      endTime: "02:00",
      pricePerKWH: 0.18,
      isActive: true,
    },
    {
      tariffId: "tariff_6",
      name: "ุชุนุฑูุฉ ุงููุฌุฑ",
      startTime: "02:00",
      endTime: "06:00",
      pricePerKWH: 0.16,
      isActive: true,
    },
    // ูููู ุฅุถุงูุฉ ุชุนุฑูุงุช ุฅุถุงููุฉ ุญุชู 8 ุชุนุฑูุงุช
  ],
  effectiveDate: "2026-01-01",
};

// ุฅุนุฏุงุฏ ุฌุฏูู ุงูุชุนุฑูุงุช
await acrelService.setMultiTariffSchedule(meterId, schedule);

// ุฌูุจ ุฌุฏูู ุงูุชุนุฑูุงุช
const currentSchedule = await acrelService.getMultiTariffSchedule(meterId);
```

### ุฌูุจ ููุน ุงูุฏูุน ุงูุญุงูู:
```typescript
const paymentMode = await acrelService.getPaymentMode(meterId);

if (paymentMode.isPrepaid) {
  console.log("ููุน ุงูุฏูุน: ูุณุจู ุงูุฏูุน");
  console.log("ุงูุฑุตูุฏ:", paymentMode.balance); // ููู ADL200 (ุฑูุงู)
  console.log("ุงููููููุงุช ุงููุชุจููุฉ:", paymentMode.remainingKWH); // ููู STS (ูููููุงุช)
} else if (paymentMode.isPostpaid) {
  console.log("ููุน ุงูุฏูุน: ุงูุฏูุน ุงูุขุฌู");
} else if (paymentMode.isCredit) {
  console.log("ููุน ุงูุฏูุน: ุงูุงุฆุชูุงู");
  console.log("ุญุฏ ุงูุงุฆุชูุงู:", paymentMode.creditLimit);
}
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ุงููุฑู ุจูู ADL200 ู STS ูู ุงููุณุจู ุงูุฏูุน:

1. **ADL200:**
   - ุงูุฑุตูุฏ ููุฏู (ุฑูุงู)
   - ูุชูุงูุต ุญุณุจ ุงูุงุณุชููุงู ูุณุนุฑ ุงูุชุนุฑูุฉ
   - ุงููุซุงู: ุฑุตูุฏ 100 ุฑูุงูุ ุงูุชุนุฑูุฉ 0.18 ุฑูุงู/ูููู โ ูููู ุงุณุชููุงู ~555 ูููู

2. **STS:**
   - **ูููุฏ ูููููุงุช** ูููุณ ุฑุตูุฏ ููุฏู
   - ุงูููุฏ ูุญุชูู ุนูู ูููููุงุช ุฌุงูุฒุฉ
   - ุงููุซุงู: ุดุญู 100 ุฑูุงู ุจุชุนุฑูุฉ 0.18 โ ูููุฏ ููุฏ ุจู 555 ูููู

### ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ:
- โ ูููู ุชุญุฏูุฏ ุญุชู **8 ุชุนุฑูุงุช** ูู ุงูููู
- โ ูู ุชุนุฑูุฉ ููุง ููุช ุจุฏุงูุฉ ูููุงูุฉ
- โ ุณุนุฑ ูุฎุชูู ููู ุชุนุฑูุฉ
- โ ูููุฏ ุฌุฏุงู ููุงุณุชูุงุฏุฉ ูู ุงูุทุงูุฉ ุงูุดูุณูุฉ (ุชุฎููุถ ุงูุณุนุฑ ุฃุซูุงุก ุงูุฅูุชุงุฌ)

---

## โ ุงูุญุงูุฉ ุงูููุงุฆูุฉ

- โ ุฏุนู ุงูุฏูุน ุงูุขุฌู (Postpaid)
- โ ุฏุนู ุงูุฏูุน ุงููุณุจู (Prepaid)
  - ADL200: ุฑุตูุฏ ููุฏู
  - STS: ูููููุงุช
- โ ุฏุนู ุงูุงุฆุชูุงู (Credit)
- โ ุฏุนู ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ (8 ุชุนุฑูุงุช)
- โ ุฌููุน ุงููุธุงุฆู ูุชููุฑุฉ ูู AcrelAPIClient ู STSAPIClient
- โ ุฌููุน ุงููุธุงุฆู ูุชููุฑุฉ ูู AcrelService ู STSService

**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-06

