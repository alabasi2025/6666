# โ Task 021: ุฅููุงู TODOs ูู STS Router

**ุงูุชุงุฑูุฎ:** 2026-01-08  
**ุงูุญุงูุฉ:** โ **ููุชูู**

---

## ๐ ุงูููุฎุต:

```
โ TODOs ุงูููุชููุฉ: 4 TODO
โ ุงูููู: server/stsRouter.ts
โ ุงููุชูุฌุฉ: 0 TODOs ูุชุจูู ูู STS Router
```

---

## โ ุงูููุงู ุงูููุชููุฉ:

### 1. **verifyCharge** (ุงูุณุทุฑ 627) โ
**ุงููุตู:** ุงูุชุญูู ูู ุญุงูุฉ ุงูุดุญู ูู STS API

**ุงูุชุบููุฑุงุช:**
- ุงุณุชุฎุฏุงู `STSService.verifyCharge()` ููุชุญูู ูู ุญุงูุฉ ุงูุดุญู
- ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุงุกู ุนูู ุงูุงุณุชุฌุงุจุฉ
- ุชุญุฏูุซ ุฑุตูุฏ ุงูุนุฏุงุฏ ุฅุฐุง ูุฌุญ ุงูุดุญู
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุน fallback ููุญุงูุฉ ุงููุญููุธุฉ

---

### 2. **testConnection** (ุงูุณุทุฑ 767) โ
**ุงููุตู:** ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุงููุนูู ูุน STS API

**ุงูุชุบููุฑุงุช:**
- ุงุณุชุฎุฏุงู `STSAPIClient.testConnection()` ูุงุฎุชุจุงุฑ ุงูุงุชุตุงู
- ุชุญุฏูุซ ูุชูุฌุฉ ุงูุงุฎุชุจุงุฑ ูู `sts_api_config`
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุชุญุฏูุซ ุงูุญุงูุฉ ุจุงููุดู ุนูุฏ ุงูุญุงุฌุฉ

---

### 3. **syncMeters** (ุงูุณุทุฑ 799) โ
**ุงููุตู:** ูุฒุงููุฉ ุงูุนุฏุงุฏุงุช ูู STS API

**ุงูุชุบููุฑุงุช:**
- ุฌูุจ ุฌููุน ุนุฏุงุฏุงุช STS ุงููุฑุชุจุทุฉ ุจู API config
- ุงุณุชุฎุฏุงู `STSService.getMeterReading()` ูุฌูุจ ุงูุญุงูุฉ ุงููุนููุฉ
- ุชุญุฏูุซ ุฑุตูุฏ ุงูุนุฏุงุฏ ูุชุงุฑูุฎ ุขุฎุฑ ูุฒุงููุฉ
- ุชุญุฏูุซ `last_sync_count` ูู API config
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุฑุฏูุฉ ููุนุฏุงุฏุงุช

---

### 4. **getMeterStatus** (ุงูุณุทุฑ 842) โ
**ุงููุตู:** ุงูุญุตูู ุนูู ุงูุญุงูุฉ ุงููุนููุฉ ููุนุฏุงุฏ ูู API

**ุงูุชุบููุฑุงุช:**
- ุงุณุชุฎุฏุงู `STSService.getMeterReading()` ููุญุตูู ุนูู ุงูุญุงูุฉ ุงููุนููุฉ
- ุชุญุฏูุซ ุงูุนุฏุงุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
- ุฅุฑุฌุงุน `isConnected` ูุชุญุฏูุฏ ุญุงูุฉ ุงูุงุชุตุงู
- Fallback ููุจูุงูุงุช ุงููุญููุธุฉ ูู ุญุงูุฉ ูุดู API

---

## ๐ ููุงุญุธุงุช ุชูููุฉ:

1. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:** ุฌููุน ุงูููุงู ุชุณุชุฎุฏู try-catch ูุน fallback ููุจูุงูุงุช ุงููุญููุธุฉ
2. **ุงูุชุญุฏูุซ ุงูุชููุงุฆู:** ุชุญุฏูุซ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุนุฏ ูู ุนูููุฉ
3. **ุงูุชุณุฌูู:** ุชุณุฌูู ุงูุฃุฎุทุงุก ูุงูุนูููุงุช ูู logger

---

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

```
STS Router: 0 TODOs ูุชุจูู โ
```
