# ุฏููู ุงููุณุชุฎุฏู: ุฏูุฌ ููุดุฑ ุงููุธุงู ุงููุฎุตุต v2.2.0

## ูุฑุญุจุงู! ๐

ุชู ุฑูุน ุฌููุน ุงูุชุบููุฑุงุช ุจูุฌุงุญ ุฅูู GitHub repository ุงูุฎุงุต ุจู. ุงูุขู ุญุงู ุงูููุช ูุฏูุฌ ูุฐู ุงูุชุบููุฑุงุช ุนูู ุฌูุงุฒู ุงููุญูู (Windows) ููุดุฑ ุงููุธุงู.

---

## ุงููุฑุญูุฉ 6: ุงูุฏูุฌ ูุงููุดุฑ ุนูู ุฌูุงุฒู

### ุงูุฎุทูุฉ 1: ูุชุญ Terminal ุนูู ุฌูุงุฒู

ุงูุชุญ **PowerShell** ุฃู **Command Prompt** ุนูู ุฌูุงุฒู ูุงูุชูู ุฅูู ูุฌูุฏ ุงููุดุฑูุน:

```bash
cd C:\Users\qbas\33333\6666
```

*(ุชุฃูุฏ ูู ุงููุณุงุฑ ุงูุตุญูุญ ููุฌูุฏ ุงููุดุฑูุน ุนูู ุฌูุงุฒู)*

---

### ุงูุฎุทูุฉ 2: Pull ุงูุชุบููุฑุงุช ูู GitHub

```bash
git pull origin main
```

ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุซู:

```
Updating d6df427..4ab8a7b
Fast-forward
 DEPLOYMENT_INSTRUCTIONS.md                         | 450 ++++++++++++++++++++
 TESTING_CHECKLIST.md                               | 320 ++++++++++++++
 client/src/pages/CustomSystem/v2/AccountsPage.tsx | 500 +++++++++++++++++++++
 ... (21 files changed, 8836 insertions(+))
```

---

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงููููุงุช ุงูุฌุฏูุฏุฉ

ุชุฃูุฏ ูู ูุฌูุฏ ุงููููุงุช ุงูุชุงููุฉ:

**Database:**
- `drizzle/schemas/customSystemV2.ts`
- `drizzle/migrations/0014_custom_system_v2.sql`

**Backend:**
- `server/routes/customSystem/v2/currencies.ts`
- `server/routes/customSystem/v2/exchangeRates.ts`
- `server/routes/customSystem/v2/journalEntries.ts`
- `server/routes/customSystem/v2/operations.ts`
- ููููุงุช ุฃุฎุฑู...

**Frontend:**
- `client/src/pages/CustomSystem/v2/CurrenciesPage.tsx`
- `client/src/pages/CustomSystem/v2/OperationsPage.tsx`
- ููููุงุช ุฃุฎุฑู...

---

### ุงูุฎุทูุฉ 4: ุนูู Backup ููุงุนุฏุฉ ุงูุจูุงูุงุช โ๏ธ

**ููู ุฌุฏุงู:** ูุจู ุชุดุบูู Migrationุ ูุฌุจ ุนูู Backup ููุงุนุฏุฉ ุงูุจูุงูุงุช!

ุฅุฐุง ููุช ุชุณุชุฎุฏู PostgreSQL:

```bash
pg_dump -U postgres -d your_database_name > backup_before_v2.2.0.sql
```

ุฃู ุงุณุชุฎุฏู ุฃุฏุงุฉ Backup ุงูุฎุงุตุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชู ุชุณุชุฎุฏููุง.

---

### ุงูุฎุทูุฉ 5: ุชุดุบูู Database Migration

```bash
pnpm drizzle-kit push
```

ุฃู:

```bash
pnpm drizzle-kit migrate
```

**ูุงุฐุง ุณูุญุฏุซ:**
- ุฅูุดุงุก 7 ุฌุฏุงูู ุฌุฏูุฏุฉ
- ุชุนุฏูู 3 ุฌุฏุงูู ููุฌูุฏุฉ
- ุญุฐู 3 ุฌุฏุงูู ูุฏููุฉ (ุฅุฐุง ูุงูุช ูุงุฑุบุฉ)
- ุฅุถุงูุฉ ุจูุงูุงุช ุฃูููุฉ (ุงูุนููุงุช ุงูุฃุณุงุณูุฉ)

**ุฅุฐุง ุธูุฑุช ุฃุฎุทุงุก:**
- ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- ุฑุงุฌุน ููู `DEPLOYMENT_INSTRUCTIONS.md` ูุญููู ุงูุฃุฎุทุงุก

---

### ุงูุฎุทูุฉ 6: ุชุญุฏูุซ Backend Routes

ุงูุชุญ ููู `server/index.ts` ุฃู `server/app.ts` ูุฃุถู:

```typescript
import customSystemV2Router from "./routes/customSystem/v2";

// ูู ูุณู ุงูู routes
app.use("/api/custom-system/v2", customSystemV2Router);
```

---

### ุงูุฎุทูุฉ 7: ุชุญุฏูุซ Frontend Routes

ุงูุชุญ ููู `client/src/App.tsx` ุฃู `client/src/routes/index.tsx` ูุฃุถู:

```typescript
import {
  CurrenciesPage,
  ExchangeRatesPage,
  AccountsPage,
  JournalEntriesPage,
  OperationsPage,
} from "./pages/CustomSystem/v2";

// ูู ูุณู ุงูู routes
<Route path="/custom-system/v2/currencies" element={<CurrenciesPage />} />
<Route path="/custom-system/v2/exchange-rates" element={<ExchangeRatesPage />} />
<Route path="/custom-system/v2/accounts" element={<AccountsPage />} />
<Route path="/custom-system/v2/journal-entries" element={<JournalEntriesPage />} />
<Route path="/custom-system/v2/operations" element={<OperationsPage />} />
```

---

### ุงูุฎุทูุฉ 8: ุชุญุฏูุซ Navigation Menu

ุงูุชุญ ููู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ูุฃุถู:

```typescript
{
  title: "ุงููุธุงู ุงููุฎุตุต v2",
  items: [
    {
      title: "ุดุงุดุฉ ุงูุนูููุงุช",
      path: "/custom-system/v2/operations",
    },
    {
      title: "ุงููููุฏ ุงูููููุฉ",
      path: "/custom-system/v2/journal-entries",
    },
    {
      title: "ุงูุญุณุงุจุงุช",
      path: "/custom-system/v2/accounts",
    },
    {
      title: "ุงูุนููุงุช",
      path: "/custom-system/v2/currencies",
    },
    {
      title: "ุฃุณุนุงุฑ ุงูุตุฑู",
      path: "/custom-system/v2/exchange-rates",
    },
  ],
}
```

---

### ุงูุฎุทูุฉ 9: ุชุซุจูุช Dependencies (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

```bash
pnpm install
```

---

### ุงูุฎุทูุฉ 10: Build ุงููุดุฑูุน

```bash
# Build Backend
pnpm build

# Build Frontend
cd client
pnpm build
cd ..
```

---

### ุงูุฎุทูุฉ 11: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```bash
# ุฅููุงู ุงูุฎุงุฏู ุงูุญุงูู (Ctrl+C)

# ุชุดุบูู ุงูุฎุงุฏู ุงูุฌุฏูุฏ
pnpm start
```

ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู PM2:

```bash
pm2 restart all
```

---

## ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ Backend API

ุงูุชุญ Postman ุฃู ุฃู ุฃุฏุงุฉ API testing ูุงุฎุชุจุฑ:

```
GET http://localhost:3000/api/custom-system/v2/currencies
```

ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุงูุนููุงุช (ุนูู ุงูุฃูู ุงูุนููุงุช ุงูุฃุณุงุณูุฉ).

### 2. ุงุฎุชุจุงุฑ Frontend UI

ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:

```
http://localhost:3000/custom-system/v2/operations
```

ูุฌุจ ุฃู ุชุฑู ุดุงุดุฉ ุงูุนูููุงุช ุงูููุญุฏุฉ ูุน 3 ุจุทุงูุงุช:
- ุณูุฏ ูุจุถ
- ุณูุฏ ุตุฑู
- ุชุญููู

### 3. ุงุฎุชุจุงุฑ ุณููุงุฑูู ูุงูู

**ุงูุณููุงุฑูู: ุฅูุดุงุก ุณูุฏ ูุจุถ**

1. ุงูุชูู ุฅูู ุตูุญุฉ ุงูุญุณุงุจุงุช
2. ุฃูุดุฆ ุญุณุงุจูู:
   - ุญุณุงุจ ุงูุตูุฏูู (ููุน: ุฃุตูู)
   - ุญุณุงุจ ุงูุนููุงุก (ููุน: ุฃุตูู)

3. ุงูุชูู ุฅูู ุตูุญุฉ ุงูุนููุงุช
4. ุชุฃูุฏ ูู ูุฌูุฏ ุนููุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู (ูุซู SAR)

5. ุงูุชูู ุฅูู ุดุงุดุฉ ุงูุนูููุงุช
6. ุงููุฑ ุนูู "ุณูุฏ ูุจุถ"
7. ุงููุฃ ุงูุจูุงูุงุช:
   - ูู ุญุณุงุจ: ุงูุนููุงุก
   - ุฅูู ุญุณุงุจ: ุงูุตูุฏูู
   - ุงููุจูุบ: 1000
   - ุงูุนููุฉ: SAR
8. ุงุญูุธ

9. ุงูุชูู ุฅูู ุตูุญุฉ ุงููููุฏ ุงูููููุฉ
10. ูุฌุจ ุฃู ุชุฑู ููุฏ ูููู ุฌุฏูุฏ ุชู ุฅูุดุงุคู ุชููุงุฆูุงู
11. ุงูุชุญ ุงูููุฏ ูุชุญูู ูู:
    - ุงูุณุทุฑ ุงูุฃูู: ุงูุตูุฏูู (ูุฏูู: 1000)
    - ุงูุณุทุฑ ุงูุซุงูู: ุงูุนููุงุก (ุฏุงุฆู: 1000)
    - ุงูููุฏ ูุชูุงุฒู โ
    - ุงูุญุงูุฉ: ูุฑุญูู โ

12. ุงูุชูู ุฅูู ุตูุญุฉ ุงูุญุณุงุจุงุช
13. ุงูุชุญ ุญุณุงุจ ุงูุตูุฏูู
14. ุชุญูู ูู ุงูุฑุตูุฏ: +1000 โ

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: Migration ูุดู

**ุงูุฎุทุฃ:** `relation "customCurrencies" already exists`

**ุงูุญู:**
- ุงูุฌุฏูู ููุฌูุฏ ุจุงููุนู
- ุชุฎุทู ูุฐุง ุงูุฎุทุฃ ุฃู ุงุญุฐู ุงูุฌุฏูู ูุฏููุงู

**ุงูุฎุทุฃ:** `cannot drop table "customTransactions" because other objects depend on it`

**ุงูุญู:**
- ุชูุฌุฏ ุจูุงูุงุช ูู ุงูุฌุฏูู
- ุงุญุฐู ุงูุจูุงูุงุช ุฃููุงู ุฃู ุนุฏูู Migration

### ูุดููุฉ: API ูุง ูุนูู

**ุงูุฎุทุฃ:** `Cannot GET /api/custom-system/v2/currencies`

**ุงูุญู:**
- ุชุฃูุฏ ูู ุชุณุฌูู ุงูู router ูู `server/index.ts`
- ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
- ุฑุงุฌุน logs ุงูุฎุงุฏู

### ูุดููุฉ: Frontend ูุง ูุนุฑุถ ุงูุตูุญุงุช

**ุงูุฎุทุฃ:** `Page not found`

**ุงูุญู:**
- ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูู routes ูู `App.tsx`
- ุชุฃูุฏ ูู build ุงูู Frontend
- ุฑุงุฌุน console ุงููุชุตูุญ

---

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุฑุงุฌุน ููู `DEPLOYMENT_INSTRUCTIONS.md` ููุชูุงุตูู ุงููุงููุฉ
2. ุฑุงุฌุน ููู `TESTING_CHECKLIST.md` ููุชุญูู ูู ุงูุฎุทูุงุช
3. ุฑุงุฌุน ููู `API_DOCUMENTATION.md` ูุชูุงุตูู ุงูู API
4. ุฑุงุฌุน ููู `README.md` ูู ูุฌูุฏ Frontend

---

## ููุฎุต ุงูุชุบููุฑุงุช

### ูุง ุชู ุฅุถุงูุชู:

**ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- 7 ุฌุฏุงูู ุฌุฏูุฏุฉ ูููุธุงู ุงููุญุงุณุจู
- ุฏุนู ูุชุนุฏุฏ ุงูุนููุงุช
- ูุธุงู ุงูููุฏ ุงููุฒุฏูุฌ

**Backend API:**
- 46 endpoint ุฌุฏูุฏ
- 7 routers ูุงููุฉ
- ูุนุงูุฌุฉ ุชููุงุฆูุฉ ูููููุฏ ุงูููููุฉ

**Frontend UI:**
- 5 ุตูุญุงุช ุฌุฏูุฏุฉ
- ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
- ุฏุนู RTL

**ุงูุชูุซูู:**
- 4 ูููุงุช ุชูุซูู ุดุงููุฉ

### ูุง ุชู ุชุนุฏููู:

- ุฌุฏูู ุงูุญุณุงุจุงุช (ุฏุนู ูุชุนุฏุฏ ุงูุนููุงุช)
- ุฌุฏูู ุงูุฃูุธูุฉ ุงููุฑุนูุฉ (ุญุณุงุจุงุช ุงูุชุฑุงุถูุฉ)
- ุฌุฏูู ุงูุณูุฏุงุช (ุฑุจุท ุจุงููููุฏ ุงูููููุฉ)

### ูุง ุชู ุญุฐูู:

- ุฌุฏูู ุงููุนุงููุงุช ุงููุฏูู
- ุฌุฏูู ุงูุฎุฒุงุฆู ุงููุฏูู
- ุฌุฏูู ุญุฑูุงุช ุงูุฎุฒุงุฆู ุงููุฏูู

---

## ุงูุฅุตุฏุงุฑ

**Version:** 2.2.0  
**Release Date:** 2025-01-01  
**Status:** Production Ready

---

## ุชูุงูููุง! ๐

ุฅุฐุง ูุตูุช ุฅูู ููุง ููุฌุญุช ุฌููุน ุงูุฎุทูุงุชุ ููุฏ ุชู ูุดุฑ ุงููุธุงู ุงููุฎุตุต v2.2.0 ุจูุฌุงุญ!

ุงูุขู ูุฏูู ูุธุงู ูุญุงุณุจู ูุงูู ุจุงูููุฏ ุงููุฒุฏูุฌ ูุน ุฏุนู ูุชุนุฏุฏ ุงูุนููุงุช.

**ุงุณุชูุชุน ุจุงููุธุงู ุงูุฌุฏูุฏ!** ๐
