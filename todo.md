# نظام إدارة الطاقة المتكامل - قائمة المهام

## المرحلة 1: البنية الأساسية والتصميم البصري
- [x] إعداد التصميم البصري الأنيق (ألوان، خطوط، ظلال)
- [x] تهيئة ملف index.css مع متغيرات CSS
- [x] إعداد الخطوط العربية من Google Fonts
- [x] تهيئة ThemeProvider مع الوضع الداكن

## المرحلة 2: قاعدة البيانات الأساسية
- [x] جداول الهيكل التنظيمي (businesses, branches, stations)
- [x] جداول المستخدمين والصلاحيات (users, roles, permissions)
- [x] جداول الإعدادات العامة (settings, configurations)

## المرحلة 3: واجهة المستخدم الرئيسية
- [x] صفحة تسجيل الدخول
- [x] لوحة التحكم الرئيسية (Dashboard)
- [x] القائمة الجانبية مع جميع الأنظمة
- [x] شريط العنوان مع معلومات المستخدم

## المرحلة 4: النظام المحاسبي والمالي
- [x] شجرة الحسابات (accounts) - API جاهز
- [x] القيود اليومية (journal_entries) - جدول جاهز
- [ ] دفتر الأستاذ العام - شاشة
- [ ] ميزان المراجعة - شاشة
- [ ] القوائم المالية - شاشة
- [x] مركز التكلفة - جدول جاهز
- [ ] الموازنات - شاشة

## المرحلة 5: نظام إدارة الأصول والصيانة
- [x] سجل الأصول الثابتة (assets) - API جاهز
- [x] فئات الأصول (asset_categories) - جدول جاهز
- [x] حركات الأصول (asset_movements) - جدول جاهز
- [ ] جدول الإهلاك (depreciation) - شاشة
- [x] أوامر العمل (work_orders) - API جاهز
- [x] جدولة الصيانة الوقائية - جدول جاهز
- [ ] تتبع الفنيين - شاشة

## المرحلة 6: نظام المخزون والمشتريات
- [x] المستودعات (warehouses) - جدول جاهز
- [x] الأصناف (items) - API جاهز
- [x] حركات المخزون (stock_movements) - جدول جاهز
- [x] طلبات الشراء (purchase_requests) - جدول جاهز
- [x] أوامر الشراء (purchase_orders) - جدول جاهز
- [x] الموردين (suppliers) - API جاهز
- [ ] الجرد الدوري - شاشة

## المرحلة 7: نظام العملاء والفوترة
- [x] العملاء (customers) - API جاهز
- [x] العدادات (meters) - جدول جاهز
- [x] القراءات (readings) - جدول جاهز
- [x] الفواتير (invoices) - API جاهز
- [x] المدفوعات (payments) - جدول جاهز
- [ ] التحصيل (collections) - شاشة
- [ ] الشكاوى (complaints) - شاشة

## المرحلة 8: نظام المراقبة والتحكم
- [x] المعدات (equipment) - API جاهز
- [x] أجهزة الاستشعار (sensors) - جدول جاهز
- [ ] القراءات الحية (live_readings) - شاشة
- [x] التنبيهات (alerts) - API جاهز
- [ ] الأوامر عن بعد (remote_commands) - شاشة
- [x] سجل التدقيق (audit_log) - جدول جاهز

## المرحلة 9: نظام إدارة المشاريع
- [x] المشاريع (projects) - API جاهز
- [x] المراحل (phases) - جدول جاهز
- [ ] حزم العمل (work_packages) - شاشة
- [x] المهام (tasks) - جدول جاهز
- [ ] الميزانية (budgets) - شاشة
- [ ] المقاولين (contractors) - شاشة
- [ ] إغلاق المشاريع - شاشة

## المرحلة 10: نظام التقارير
- [ ] التقارير المالية
- [ ] تقارير الأصول
- [ ] تقارير الصيانة
- [ ] تقارير المخزون
- [ ] تقارير العملاء
- [ ] تقارير المشاريع
- [ ] لوحات المؤشرات

## الاختبارات
- [x] اختبارات API الأساسية (96 اختبار ناجح)

---
**إجمالي الجداول المطلوبة:** 359 جدول
**الجداول المنفذة:** 41 جدول
**إجمالي نقاط API:** 1,603 نقطة
**نقاط API المنفذة:** ~50 نقطة
**إجمالي الشاشات:** 248 شاشة
**الشاشات المنفذة:** 3 شاشات (الرئيسية، تسجيل الدخول، لوحة التحكم)
**إجمالي التقارير:** 113+ تقرير

## شاشات نظام إدارة الأصول (قيد التنفيذ)
- [x] شاشة قائمة الأصول مع جدول تفاعلي (فلترة، بحث، ترتيب، تصفح)
- [x] نموذج إضافة أصل جديد
- [x] نموذج تعديل أصل
- [x] شاشة تفاصيل الأصل
- [x] شاشة فئات الأصول مع CRUD
- [x] شاشة حركات الأصول
- [x] شاشة الإهلاك

## شاشات نظام الصيانة (مكتمل)
- [x] شاشة أوامر العمل مع جدول تفاعلي (فلترة، بحث، ترتيب، تصفح)
- [x] نموذج إضافة أمر عمل جديد
- [x] نموذج تعديل أمر عمل
- [x] شاشة تفاصيل أمر العمل مع تبويبات
- [x] شاشة خطط الصيانة الدورية مع CRUD
- [x] شاشة جدولة الصيانة
- [x] شاشة إدارة الفنيين
- [ ] شاشة توزيع المهام على الفنيين
- [ ] شاشة تقارير الصيانة

## شاشات نظام المخزون والمشتريات (مكتمل)
- [x] شاشة إدارة المستودعات مع CRUD
- [x] شاشة تفاصيل المستودع (الموقع، السعة، الأصناف)
- [x] شاشة الأصناف مع جدول تفاعلي
- [x] شاشة تصنيفات الأصناف
- [x] شاشة حركات المخزون (استلام، صرف، تحويل، تعديل)
- [x] نموذج إضافة حركة مخزون
- [x] شاشة أرصدة المخزون مع تنبيهات الحد الأدنى
- [x] شاشة الموردين مع CRUD
- [x] شاشة أوامر الشراء مع سير العمل
- [ ] شاشة استلام البضائع

## شاشات نظام العملاء والفوترة (مكتمل)
- [x] شاشة إدارة العملاء مع جدول تفاعلي
- [x] نموذج إضافة/تعديل عميل
- [x] شاشة تفاصيل العميل (المعلومات، العدادات، الفواتير، المدفوعات)
- [x] شاشة إدارة العدادات مع CRUD
- [x] نموذج تركيب عداد جديد
- [x] شاشة تسجيل القراءات (يدوي/آلي)
- [x] شاشة جولات القراءة
- [x] شاشة الفواتير مع جدول تفاعلي
- [x] نموذج إصدار فاتورة
- [x] شاشة تفاصيل الفاتورة
- [x] شاشة المدفوعات مع تسجيل الدفعات
- [ ] شاشة التحصيل والمتأخرات

## شاشات نظام المراقبة والتحكم SCADA (مكتمل)
- [x] لوحة مراقبة المعدات الشاملة (Dashboard)
- [x] شاشة قائمة المعدات مع جدول تفاعلي
- [x] شاشة تفاصيل المعدة مع القراءات الحية
- [x] شاشة التنبيهات الحية مع الفلترة
- [x] نموذج إضافة/تعديل تنبيه
- [x] شاشة أجهزة الاستشعار
- [x] شاشة القراءات الحية
- [x] شاشة الكاميرات مع البث المباشر
- [ ] شاشة سجل الأحداث
- [ ] شاشة الأوامر عن بعد

## شاشات نظام إدارة المشاريع (مكتمل)
- [x] شاشة قائمة المشاريع مع جدول تفاعلي
- [x] نموذج إضافة/تعديل مشروع
- [x] شاشة تفاصيل المشروع مع تبويبات (5 تبويبات)
- [x] شاشة المهام مع Kanban Board
- [x] نموذج إضافة/تعديل مهمة
- [x] مخطط جانت للجداول الزمنية مع تكبير/تصغير
- [x] شاشة الميزانية والتكاليف
- [x] شاشة فريق المشروع

## شاشات النظام المحاسبي (مكتمل)
- [x] شاشة شجرة الحسابات مع عرض هرمي
- [x] نموذج إضافة/تعديل حساب
- [x] شاشة القيود اليومية مع جدول تفاعلي
- [x] نموذج إضافة قيد يومي
- [x] شاشة تفاصيل القيد
- [x] شاشة دفتر الأستاذ العام
- [x] شاشة ميزان المراجعة
- [ ] شاشة القوائم المالية


## إعادة هيكلة النظام الموحد (قيد التنفيذ)
- [ ] إعادة تصميم القائمة الجانبية لتكون موحدة ومبسطة
- [ ] إزالة التقسيمات المنفصلة للأنظمة
- [ ] إعادة هيكلة الدليل المحاسبي ليكون موحداً
- [ ] بناء نظام الربط التلقائي للعمليات المحاسبية
- [ ] ربط المشتريات بالقيود المحاسبية تلقائياً
- [ ] ربط المبيعات والفواتير بالقيود المحاسبية تلقائياً
- [ ] ربط حركات المخزون بالقيود المحاسبية تلقائياً
- [ ] ربط الرواتب بالقيود المحاسبية تلقائياً
- [ ] تحديث لوحة التحكم لتعكس النظام الموحد


## إعادة هيكلة النظام الموحد (مكتمل جزئياً)
- [x] إعادة هيكلة شجرة الدليل المحاسبي بأسماء الأنظمة (بدلاً من أصول/خصوم/إيرادات/مصروفات)
- [x] تحديث قاعدة البيانات لدعم الهيكل الجديد (إضافة systemModule, accountType, linkedEntityType, linkedEntityId)
- [x] تحديث شاشة شجرة الحسابات للهيكل الجديد
- [x] تحديث اختبارات النظام المحاسبي (96 اختبار ناجح)
- [ ] بناء نظام الربط التلقائي للعمليات المحاسبية
- [ ] ربط كل عملية بقيدها المحاسبي تلقائياً تحت النظام المناسب


## نظام المطور (Developer System) - مكتمل
- [x] جدول التكاملات (integrations)
- [x] جدول إعدادات التكاملات (integration_configs)
- [x] جدول سجلات التكاملات (integration_logs)
- [x] جدول الأحداث (events)
- [x] جدول الاشتراكات في الأحداث (event_subscriptions)
- [x] جدول مفاتيح API (api_keys)
- [x] جدول سجلات API (api_logs)
- [x] جدول نماذج الذكاء الاصطناعي (ai_models)
- [x] جدول تنبؤات الذكاء الاصطناعي (ai_predictions)
- [x] جدول قواعد التنبيهات التقنية (technical_alert_rules)
- [x] جدول التنبيهات التقنية (technical_alerts)
- [x] جدول مقاييس الأداء (performance_metrics)
- [x] جدول Webhooks (incoming_webhooks)
- [x] شاشة لوحة تحكم المطور
- [x] شاشة إدارة التكاملات
- [x] شاشة إدارة مفاتيح API
- [x] شاشة نظام الأحداث
- [x] شاشة وحدة الذكاء الاصطناعي
- [x] شاشة التنبيهات التقنية
- [x] اختبارات نظام المطور (22 اختبار ناجح)


## نظام العمليات الميدانية (Field Operations) - مكتمل
- [x] جدول العمليات الميدانية (field_operations)
- [x] جدول الفرق الميدانية (field_teams)
- [x] جدول العاملين الميدانيين (field_workers)
- [x] جدول المعدات الميدانية (field_equipment)
- [x] جدول حركات المعدات (equipment_movements)
- [x] جدول الفحوصات (field_inspections)
- [x] جدول التسويات (field_settlements)
- [x] شاشة لوحة تحكم العمليات الميدانية
- [x] شاشة إدارة العمليات
- [x] شاشة إدارة الفرق
- [x] شاشة إدارة العاملين
- [x] شاشة إدارة المعدات
- [x] إنشاء مستأجرين تجريبيين (شركتين مع بيانات)
- [ ] شاشة تتبع العاملين (GPS)
- [ ] شاشة الفحص والقبول
- [ ] شاشة التسويات المالية
