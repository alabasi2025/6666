# ุงููุธุงู ุงููุฎุตุต - ููู ุงูุชูุซูู ูุงูููุงู (TODO)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุงููุธุงู ุงููุฎุตุต ูู ูุธุงู ูุงูู ููุญุงุณุจู ูุณุชูู ุฏุงุฎู ูุธุงู ุงูุทุงูุฉุ ูุชูุญ ุฅูุดุงุก ุฃูุธูุฉ ูุฑุนูุฉ ูุชุนุฏุฏุฉ ูุฅุฏุงุฑุฉ ุงูุนูููุงุช ุงููุงููุฉ.

---

## ๐๏ธ ุงููููู ุงูุนุงู

```
ุงููุธุงู ุงููุฎุตุต (Custom System)
โ
โโโ ุงููุธุงู ุงูุฑุฆูุณู
โ   โโโ ุฅุฏุงุฑุฉ ุงูุฃูุธูุฉ ุงููุฑุนูุฉ
โ   โโโ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ (ุงูุนููุงุชุ ุฃุณุนุงุฑ ุงูุตุฑู)
โ   โโโ ุงูุชูุงุฑูุฑ ุงูุดุงููุฉ
โ
โโโ ุงูุฃูุธูุฉ ุงููุฑุนูุฉ (Sub Systems)
    โโโ ุงููุธุงู ุงููุฑุนู 1
    โ   โโโ ุงูุญุณุงุจุงุช (ุดุฌุฑุฉ ูุฑูุฉ)
    โ   โโโ ุงูุฎุฒุงุฆู (ุชูุซู ุจุญุณุงุจุงุช ุชูุตูููุฉ)
    โ   โโโ ุณูุฏุงุช ุงููุจุถ (ุชููุฏ ููุฏ ููููุฉ)
    โ   โโโ ุณูุฏุงุช ุงูุตุฑู (ุชููุฏ ููุฏ ููููุฉ)
    โ   โโโ ุงููููุฏ ุงูููููุฉ (ูููุฏ ูุฒุฏูุฌุฉ ุญููููุฉ)
    โ
    โโโ ... (ููุณ ุงููููู)
```

---

## โ ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ ุงูููุงุฆูุฉ (ุชู ุชุฃููุฏูุง)

| ุงูููุฒุฉ | ุงููุฑุงุฑ ุงูููุงุฆู | ุงูุชูุงุตูู |
| :--- | :--- | :--- |
| **ุงููููุฏ ุงูููููุฉ** | **ูููุฏ ูุญุงุณุจูุฉ ุญููููุฉ** | ูุธุงู ููุฏ ูุฒุฏูุฌ (ูุฏูู/ุฏุงุฆู) ูุงูู. |
| **ุดุฌุฑุฉ ุงูุญุณุงุจุงุช** | **ุดุฌุฑุฉ ูุฑูุฉ ููุฎุชุฑุนุฉ** | ุชุชููู ูู ุญุณุงุจุงุช ุฑุฆูุณูุฉ (ููุชูุธูู) ูุญุณุงุจุงุช ูุฑุนูุฉ/ุชูุตูููุฉ (ุชุชุฃุซุฑ ุจุงูุนูููุงุช). |
| **ุชุตููู ุงูุญุณุงุจ ุงููุฑุนู** | **ุชุตููู ุฅูุฒุงูู** | ูู ุญุณุงุจ ูุฑุนู ูุฌุจ ุฃู ูุญุฏุฏ ููุนู (ุตูุฏููุ ุจููุ ููุฑุฏุ ุนูููุ ุฅูุฎ) ูุบุฑุถ ุงูุชุตููุฉ ูู ุดุงุดุฉ ุงูุนูููุงุช. |
| **ุฃุฑุตุฏุฉ ุงูุญุณุงุจุงุช** | **ูุชุนุฏุฏุฉ ุงูุนููุงุช** | ูู ุญุณุงุจ ูุฑุนู ูุญูู **ุฃุฑุตุฏุฉ ูููุตูุฉ** ููู ุนููุฉ ูุณููุญ ุจูุง (ูุซูุงู: ุตูุฏูู ุงูุดุฑูุฉ ูุฏูู ุฑุตูุฏ ุจุงูู YER ูุฑุตูุฏ ุจุงูู USD). |
| **ุงูุนููุงุช** | **ูุธุงู ุนููุงุช ูุฑูุฒู** | ุงูุนููุฉ ุงูุฃุณุงุณูุฉ ูู **ุงูุฑูุงู ุงููููู (YER)**. ุงูุนููุงุช ุงูุฅุถุงููุฉ ูู **ุงูุฑูุงู ุงูุณุนูุฏู (SAR)** ู **ุงูุฏููุงุฑ ุงูุฃูุฑููู (USD)**. |
| **ุฃุณุนุงุฑ ุงูุตุฑู** | **ุชุณุฌูู ููุตู** | ูุชู ุชุณุฌูู ุงูุณุนุฑ ุงูุญุงููุ ูุฃุนูู ุณุนุฑุ ูุฃุฏูู ุณุนุฑ ููู ุนููุฉ. |
| **ุงูุตูุงุญูุงุช** | **ูุฑูุฒูุฉ ูุน ุชุญูู ุจุงููุตูู** | ุงููุณุชุฎุฏููู ูู ููุณ ูุณุชุฎุฏูู ุงููุธุงู ุงูุฃุณุงุณูุ ูุน ุฅุถุงูุฉ ุญูู ูุชุญุฏูุฏ ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ุงููุณููุญ ููู ุจุงููุตูู ุฅูููุง. |
| **ุดุงุดุฉ ุงูุนูููุงุช** | **ููุญุฏุฉ ูุฐููุฉ** | ุดุงุดุฉ ูุงุญุฏุฉ ูููุจุถ ูุงูุตุฑู ูุงูููุฏุ ูุน ุชุตููุฉ ุงูุฎุฒุงุฆู ุญุณุจ ุงูููุน (ุตูุฏููุ ุจููุ ุตุฑุงูุ ูุญูุธุฉ) ูุชุตููุฉ ุงูุญุณุงุจุงุช ุญุณุจ ุงูุชุตููู. |
| **ุชุฃุซูุฑ ุงูุณูุฏุงุช** | **ููุฏ ูุฒุฏูุฌ ุขูู** | ุณูุฏ ุงููุจุถ ูุณูุฏ ุงูุตุฑู ูููุฏ ููุฏ ููููุฉ ุขููุงู (ุงูุฎุฒููุฉ ุทุฑูุ ูุงูุญุณุงุจ ุงูููุงุจู ุทุฑู ุขุฎุฑ). |

---

## ๐ ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. ุงูุญุณุงุจุงุช (Custom Accounts)
- **ุงููููู:** ุดุฌุฑุฉ ูุฑููุฉ (Parent/Child).
- **ุงูุชุฃุซูุฑ:** ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ ููุท ูู ุงูุชู ุชุชุฃุซุฑ ุจุงูุญุฑูุงุช.
- **ุงูุฎุตุงุฆุต ุงูุฅุถุงููุฉ:**
    - `subTypeId`: ูุชุญุฏูุฏ ููุน ุงูุญุณุงุจ (ุตูุฏููุ ุจููุ ููุฑุฏุ ุฅูุฎ).
    - **ุฌุฏูู ุฑุจุท ุงูุนููุงุช:** ูุชุญุฏูุฏ ุงูุนููุงุช ุงููุณููุญ ุจูุง ููู ุญุณุงุจ ูุฑุนู.
    - **ุฌุฏูู ุงูุฃุฑุตุฏุฉ:** ูุชุฎุฒูู ุงูุฃุฑุตุฏุฉ ุงููููุตูุฉ ููู ุนููุฉ.

### 2. ุงูุฎุฒุงุฆู (Treasuries)
- **ุงูุชูุซูู:** ูู ุชุนุฏ ุฌุฏููุงู ูุณุชููุงูุ ุจู ูู **ุญุณุงุจุงุช ุชูุตูููุฉ** ูู ุดุฌุฑุฉ ุงูุญุณุงุจุงุชุ ุชุญูู `subTypeId` ูู ููุน (ุตูุฏููุ ุจููุ ูุญูุธุฉุ ุตุฑุงู).

### 3. ุงูุนูููุงุช ุงููุงููุฉ (Vouchers & Journal Entries)
- **ุณูุฏุงุช ุงููุจุถ/ุงูุตุฑู:** ูู ูุงุฌูุงุช ุณููุฉ ุงูุงุณุชุฎุฏุงู ุชููุฏ **ูููุฏ ููููุฉ** ูู ุงูุฎูููุฉ.
- **ุงููููุฏ ุงูููููุฉ:** ูู ุงูุณุฌู ุงููุญุงุณุจู ุงูุฃุณุงุณู ุงูุฐู ูุณุฌู ุงูุญุฑูุฉ (ูุฏูู/ุฏุงุฆู) ููุคุซุฑ ุนูู ุงูุฃุฑุตุฏุฉ.

---

## ๐ฅ๏ธ ุดุงุดุฉ ุงูุนูููุงุช (ุฌุฏูุฏุฉ) โญ

**ุงููุณุงุฑ ุงูููุชุฑุญ:** `/custom/sub-systems/:id/operations`

**ุขููุฉ ุงูุนูู ุงูุฐููุฉ:**
1.  **ุงุฎุชูุงุฑ ููุน ุงูุนูููุฉ** (ูุจุถ / ุตุฑู / ููุฏ).
2.  **ุงุฎุชูุงุฑ ููุน ุงูุฎุฒููุฉ** (ุตูุฏูู / ุจูู / ุตุฑุงู / ูุญูุธุฉ).
3.  **ุชุตููุฉ ุงูุฎุฒุงุฆู:** ุชุธูุฑ ูุงุฆูุฉ ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ ุงูุชู ุชุญูู `subTypeId` ูุทุงุจูุงู ูููุน ุงูุฎุฒููุฉ ุงููุฎุชุงุฑ.
4.  **ุงุฎุชูุงุฑ ุงูุญุณุงุจ ุงูููุงุจู:** ูููู ุชุตููุฉ ุงูุญุณุงุจุงุช ุญุณุจ ุงูุชุตููู (ููุฑุฏููุ ุนููุงุกุ ุฅูุฎ) ุฃู ุนุฑุถ ุฌููุน ุงูุญุณุงุจุงุช ุงููุฑุนูุฉ.

---

## โ ุงูููุงู ุงููุทููุจุฉ ููุชูููุฐ (ุฎุทุฉ ุงูุนูู)

| ุงููุฑุญูุฉ | ุงููููุฉ | ุงููุตู |
| :--- | :--- | :--- |
| **1. ูุงุนุฏุฉ ุงูุจูุงูุงุช (Schema)** | **ุชุนุฏูู ุงูุฌุฏุงูู ุงูุญุงููุฉ ูุฅุถุงูุฉ ุงูุฌุฏูุฏุฉ** | ุชุนุฏูู `customAccounts`ุ `customReceiptVouchers`ุ `customPaymentVouchers`. ุญุฐู `customTreasuries`ุ `customTransactions`ุ `customTreasuryMovements`. ุฅุถุงูุฉ ุฌุฏุงูู: `customCurrencies`ุ `customExchangeRates`ุ `customAccountSubTypes`ุ `customAccountCurrencies`ุ `customAccountBalances`ุ `customJournalEntries`ุ `customJournalEntryLines`. |
| **2. ุงููุงุฌูุฉ ุงูุฎูููุฉ (API)** | **ุชุทููุฑ ููุทู ุงูุนููุงุช ูุงููููุฏ** | ุฅูุดุงุก API ูุฅุฏุงุฑุฉ ุงูุนููุงุช ูุฃุณุนุงุฑ ุงูุตุฑู. ุชุทููุฑ ููุทู ุงูููุฏ ุงููุฒุฏูุฌ ูุถูุงู ุชูุงุฒู ุงููุฏูู/ุงูุฏุงุฆู. |
| **3. ุงููุงุฌูุฉ ุงูุฎูููุฉ (API)** | **ุชุทููุฑ ููุทู ุงูุณูุฏุงุช** | ุชุนุฏูู API ุณูุฏุงุช ุงููุจุถ ูุงูุตุฑู ูุชูููุฏ ููุฏ ููููุฉ ุขููุงู ูุชุญุฏูุซ ุงูุฃุฑุตุฏุฉ ูู `customAccountBalances`. |
| **4. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (UI)** | **ุดุงุดุฉ ุงูุนูููุงุช ุงูููุญุฏุฉ** | ุฅูุดุงุก `OperationsScreen.tsx` ูุชุทุจูู ุขููุฉ ุงูุชุตููุฉ ุงูุฐููุฉ ููุฎุฒุงุฆู ูุงูุญุณุงุจุงุช. |
| **5. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (UI)** | **ุฅุฏุงุฑุฉ ุดุฌุฑุฉ ุงูุญุณุงุจุงุช** | ุชุทููุฑ ูุงุฌูุฉ ูุฑูุฉ ูุฅุฏุงุฑุฉ ุดุฌุฑุฉ ุงูุญุณุงุจุงุช ูุชุญุฏูุฏ `subTypeId` ู ุงูุนููุงุช ุงููุณููุญ ุจูุง ููู ุญุณุงุจ ูุฑุนู. |
| **6. ุงูุงุฎุชุจุงุฑ ูุงูุฏูุฌ** | **ุงูุชุฃูุฏ ูู ุงูููุงุนุฏ ุงูู 42** | ุงุฎุชุจุงุฑ ุดุงูู ูุฌููุน ุงูููุฒุงุช ุงูุฌุฏูุฏุฉุ ุงูุชุฃูุฏ ูู ุณูุงูุฉ ุงููููุฏ ุงููุญุงุณุจูุฉุ ูุงูุงูุชุฒุงู ุจุฌููุน ุงูููุงุนุฏ ุงูุตุงุฑูุฉ (ุจูุง ูู ุฐูู RTL ู TypeScript). |

---

## ๐ ุงููููุงุช ุงูุญุงููุฉ ุงูุชู ุณูุชู ุชุนุฏูููุง

| ุงูููู | ุงููุตู |
| :--- | :--- |
| `drizzle/schema.ts` | **ุชุนุฏูู ุฌุฐุฑู** ููุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุฌุฏุงูู). |
| `server/db.ts` | ุชุญุฏูุซ ุฌููุน ุงูุฏูุงู ุงููุชุนููุฉ ุจุงูุฌุฏุงูู ุงููุฎุตุตุฉ. |
| `server/customSystemRouter.ts` | **ุชุนุฏูู ุฌุฐุฑู** ูููุงุท ุงูููุงูุฉ ุงูุฎุงุตุฉ ุจุงูุญุณุงุจุงุชุ ุงูุฎุฒุงุฆูุ ูุงูุณูุฏุงุช. |
| `client/src/pages/custom/*` | ุชุนุฏูู ุตูุญุงุช `CustomAccounts.tsx`ุ `CustomTreasuries.tsx`ุ `CustomVouchers.tsx`. |
| `client/src/pages/custom/OperationsScreen.tsx` | **ุฅุถุงูุฉ** ุงูุดุงุดุฉ ุงูุฌุฏูุฏุฉ. |

---

## ๐ ููุงุญุธุงุช

1.  **ุงูุงูุชุฒุงู ุจุงูููุงุนุฏ ุงูุตุงุฑูุฉ:** ุณูุชู ุงูุงูุชุฒุงู ุจุฌููุน ุงูููุงุนุฏ ุงูู 42ุ ุจูุง ูู ุฐูู ุตูุฑ ุฃุฎุทุงุก TypeScript ูุฏุนู RTL ุงููุงูู.
2.  **ุงูุงุณุชููุงููุฉ:** ูู ูุธุงู ูุฑุนู ูุณุชูู ุชูุงูุงู ุนู ุงูุฃูุธูุฉ ุงูุฃุฎุฑู ูู ุญุณุงุจุงุชู ูุฃุฑุตุฏุชู.

---

## ๐ ุขุฎุฑ ุชุญุฏูุซ

**ุงูุชุงุฑูุฎ:** 28 ุฏูุณูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 2.2.0 (ูุฎุทุท)
