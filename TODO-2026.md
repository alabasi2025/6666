# ๐ TODO 2026 - ููุงู ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ ูุงูููุฒุงุช ุงููุชูุฏูุฉ

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2026-01-06  
**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-06

---

## ๐ฏ ุงููุงุนุฏุฉ ุงูุฃุณุงุณูุฉ

**โ๏ธ ุฌููุน ุงูุชูุงููุงุช ุงูุฎุงุฑุฌูุฉ (Third-party Integrations) ูุฌุจ ุฃู ุชููู ูู ูุธุงู ุงููุทูุฑ (Developer System)**

**ุงููุตูู:** `trpc.developer.integrations.*`

---

## ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ ููุชูุงููุงุช

### โ ูุง ุชู ุฅูุฌุงุฒู:

1. **ACREL API Client** โ
   - ุงููููุน: `server/developer/integrations/acrel-api-client.ts`
   - ุงูุญุงูุฉ: ููุชูู ุจุฌููุน ุงููุธุงุฆู

2. **ACREL Service** โ
   - ุงููููุน: `server/developer/integrations/acrel-service.ts`
   - ุงูุญุงูุฉ: ููุชูู ุจุฑุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. **STS API Client** โ
   - ุงููููุน: `server/developer/integrations/sts-api-client.ts`
   - ุงูุญุงูุฉ: ููุชูู ุจุฌููุน ุงููุธุงุฆู

4. **STS Service** โ
   - ุงููููุน: `server/developer/integrations/sts-service.ts`
   - ุงูุญุงูุฉ: ููุชูู ุจุฑุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

5. **Routers ูููููุฉ ุฅูู Developer System** โ
   - `paymentGatewaysRouter` โ `developer.integrations.paymentGateways`
   - `messagingRouter` โ `developer.integrations.messaging`
   - `stsRouter` โ `developer.integrations.sts`

6. **Frontend ูุญุฏุซ** โ
   - ุฌููุน ุงููุฑุงุฌุน ูุญุฏุซุฉ ุฅูู `trpc.developer.integrations.*`

---

## ๐ ุงูููุงู ุงููุทููุจุฉ

---

### 1๏ธโฃ ุฅุถุงูุฉ ACREL Router ุฅูู Developer System

**ุงูุญุงูุฉ:** โ ุบูุฑ ููุฌูุฏ  
**ุงูุฃููููุฉ:** ุนุงููุฉ ุฌุฏุงู  
**ุงูููู:** `server/routers.ts`

**ุงูููุงู:**
- [ ] ุฅูุดุงุก `acrelRouter` ูู `server/routers.ts` ุชุญุช `developer.integrations`
- [ ] ุฅุถุงูุฉ procedures ูููุธุงุฆู ุงูุชุงููุฉ:
  - [ ] `meters.list` - ูุงุฆูุฉ ุนุฏุงุฏุงุช ACREL
  - [ ] `meters.getInfo` - ูุนูููุงุช ุงูุนุฏุงุฏ
  - [ ] `meters.getReading` - ูุฑุงุกุฉ ุงูุนุฏุงุฏ (ADL200 ุฃู ADW300)
  - [ ] `meters.getStatus` - ุญุงูุฉ ุงูุงุชุตุงู
  - [ ] `meters.disconnect` - ูุตู ุงูุนุฏุงุฏ
  - [ ] `meters.reconnect` - ุฅุนุงุฏุฉ ุชูุตูู ุงูุนุฏุงุฏ
  - [ ] `meters.setTariff` - ุชุบููุฑ ุงูุชุนุฑูุฉ
  - [ ] `meters.connectToWiFi` - ุฑุจุท ุจุดุจูุฉ WiFi
  - [ ] `meters.enableMQTT` - ุชูุนูู MQTT
  - [ ] `ct.configure` - ุฅุนุฏุงุฏ ูุญููุงุช ุงูุชูุงุฑ (ADW300)
  - [ ] `ct.update` - ุชุญุฏูุซ ูุญููุงุช ุงูุชูุงุฑ
  - [ ] `payment.setMode` - ุชุนููู ููุน ุงูุฏูุน (postpaid/prepaid/credit)
  - [ ] `payment.recharge` - ุดุญู ุงูุฑุตูุฏ (ูููุณุจู ุงูุฏูุน)
  - [ ] `payment.getBalance` - ุฌูุจ ุงูุฑุตูุฏ
  - [ ] `payment.setCreditLimit` - ุฅุนุฏุงุฏ ุงูุงุฆุชูุงู
  - [ ] `payment.getCreditInfo` - ูุนูููุงุช ุงูุงุฆุชูุงู
  - [ ] `tariff.setSchedule` - ุฅุนุฏุงุฏ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ (8 ุชุนุฑูุงุช)
  - [ ] `tariff.getSchedule` - ุฌูุจ ุฌุฏูู ุงูุชุนุฑูุงุช
  - [ ] `monitoring.getMetrics` - ุจูุงูุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ
  - [ ] `monitoring.getMeterReadings` - ูุฑุงุกุงุช ุนุฏุงุฏุงุช ุงููุฑุงูุจุฉ
  - [ ] `api.testConnection` - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

**ุงูููุฏ ุงููุทููุจ:**
```typescript
// ูู server/routers.ts ุชุญุช developer.integrations
acrel: router({
  meters: router({
    list: protectedProcedure.input(...).query(...),
    getInfo: protectedProcedure.input(...).query(...),
    getReading: protectedProcedure.input(...).query(...),
    // ... ุฅูุฎ
  }),
  ct: router({
    configure: adminProcedure.input(...).mutation(...),
    update: adminProcedure.input(...).mutation(...),
  }),
  payment: router({
    setMode: adminProcedure.input(...).mutation(...),
    recharge: protectedProcedure.input(...).mutation(...),
    // ... ุฅูุฎ
  }),
  tariff: router({
    setSchedule: adminProcedure.input(...).mutation(...),
    getSchedule: protectedProcedure.input(...).query(...),
  }),
  monitoring: router({
    getMetrics: protectedProcedure.input(...).query(...),
    getMeterReadings: protectedProcedure.input(...).query(...),
  }),
  api: router({
    testConnection: adminProcedure.input(...).mutation(...),
  }),
}),
```

---

### 2๏ธโฃ ุฅุถุงูุฉ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุชูุงููุงุช

**ุงูุญุงูุฉ:** โ๏ธ ุฌุฒุฆู (ุฌุฏูู integrations ููุฌูุฏ)  
**ุงูุฃููููุฉ:** ุนุงููุฉ

#### ุฃ) ุฌุฏุงูู ACREL:
- [ ] `acrel_meters` - ุนุฏุงุฏุงุช ACREL (ADL200 ู ADW300)
  - ุงูุฃุนูุฏุฉ: `id`, `business_id`, `meter_id`, `acrel_meter_id`, `meter_type` (ADL200/ADW300), `phase_type` (single/three), `connection_type` (wifi/rs485/mqtt), `network_id`, `payment_mode` (postpaid/prepaid/credit), `credit_limit`, `current_balance`, `ct_info` (json), `status`, `created_at`, `updated_at`
  
- [ ] `acrel_readings` - ูุฑุงุกุงุช ุนุฏุงุฏุงุช ACREL
  - ุงูุฃุนูุฏุฉ: `id`, `acrel_meter_id`, `reading_date`, `voltage_l1`, `voltage_l2`, `voltage_l3`, `current_l1`, `current_l2`, `current_l3`, `power_l1`, `power_l2`, `power_l3`, `exported_energy`, `imported_energy`, `total_energy`, `temperature1`, `temperature2`, `temperature3`, `temperature4`, `leakage_current`, `breaker_status`, `created_at`

- [ ] `acrel_command_logs` - ุณุฌู ุงูุฃูุงูุฑ
  - ุงูุฃุนูุฏุฉ: `id`, `acrel_meter_id`, `command_type`, `command_id`, `status`, `request_data` (json), `response_data` (json), `error`, `created_at`, `executed_at`

- [ ] `acrel_multi_tariff_schedules` - ุฌุฏุงูู ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ
  - ุงูุฃุนูุฏุฉ: `id`, `acrel_meter_id`, `tariff_data` (json - ุญุชู 8 ุชุนุฑูุงุช), `effective_date`, `is_active`, `created_at`, `updated_at`

#### ุจ) ุฌุฏุงูู STS (ููุฌูุฏุฉ ุฌุฒุฆูุงู):
- [ ] ุงูุชุฃูุฏ ูู ุฌุฏูู `sts_meters` ูุญุชูู ุนูู:
  - `payment_mode` (postpaid/prepaid/credit)
  - `credit_limit`
  - `current_balance`
  - `remaining_kwh`

- [ ] ุงูุชุฃูุฏ ูู ุฌุฏูู `sts_charge_requests` ูุญุชูู ุนูู:
  - `kwh_generated` - ุงููููููุงุช ุงููููุฏุฉ

- [ ] `sts_command_logs` - ุณุฌู ุงูุฃูุงูุฑ (ุฅุฐุง ุบูุฑ ููุฌูุฏ)

- [ ] `sts_multi_tariff_schedules` - ุฌุฏุงูู ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ

---

### 3๏ธโฃ ุตูุญุงุช ุฅุฏุงุฑุฉ ุนุฏุงุฏุงุช ACREL (Frontend)

**ุงูุญุงูุฉ:** โ ุบูุฑ ููุฌูุฏุฉ  
**ุงูุฃููููุฉ:** ุนุงููุฉ  
**ุงููููุน:** `client/src/pages/iot/`

#### ุฃ) ุตูุญุฉ ุฅุฏุงุฑุฉ ุนุฏุงุฏุงุช ACREL:
- [ ] `client/src/pages/iot/AcrelMeters.tsx`
  - ูุงุฆูุฉ ุงูุนุฏุงุฏุงุช (ADL200 ู ADW300)
  - ููุชุฑุฉ ุญุณุจ ุงูููุน (ADL200/ADW300)
  - ููุชุฑุฉ ุญุณุจ ููุน ุงูุฏูุน (postpaid/prepaid/credit)
  - ููุชุฑุฉ ุญุณุจ ุญุงูุฉ ุงูุงุชุตุงู
  - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุนุฏุงุฏ
  - ุฑุจุท ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ

#### ุจ) ุตูุญุฉ ุชูุงุตูู ุงูุนุฏุงุฏ ACREL:
- [ ] `client/src/pages/iot/AcrelMeterDetails.tsx`
  - ูุนูููุงุช ุงูุนุฏุงุฏ
  - ุงููุฑุงุกุงุช ุงูุญูุฉ (ADL200: Single Phase, ADW300: Three Phase)
  - ูุญููุงุช ุงูุชูุงุฑ (ููู ADW300)
  - ุญุณุงุณุงุช ุงูุญุฑุงุฑุฉ (ููู ADW300)
  - ููุงุณ ุงูุชุณุฑุจ (ููู ADW300)
  - ุญุงูุฉ ุงููุงุทุน (ููู ADW300)
  - ููุน ุงูุฏูุน ุงูุญุงูู
  - ุงูุฑุตูุฏ/ุงูุงุฆุชูุงู

#### ุฌ) ุตูุญุฉ ุฅุนุฏุงุฏ ูุญููุงุช ุงูุชูุงุฑ:
- [ ] `client/src/pages/iot/AcrelCTConfiguration.tsx`
  - ุงุฎุชูุงุฑ ููุน ุงููุญูู (Built-in/External)
  - ุฅุนุฏุงุฏ ุงููุญููุงุช ุงูุฎุงุฑุฌูุฉ:
    - ุงุฎุชูุงุฑ ุญุฌู CT1, CT2, CT3 (100-1000 ุฃูุจูุฑ)
    - ุงุฎุชูุงุฑ ููุน ุงููุฑุต (Split Core/Solid Core)
  - ุนุฑุถ ูุนูููุงุช ุงููุญููุงุช ุงูุญุงููุฉ

#### ุฏ) ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุฏูุน:
- [ ] `client/src/pages/iot/AcrelPaymentSettings.tsx`
  - ุงุฎุชูุงุฑ ููุน ุงูุฏูุน (Postpaid/Prepaid/Credit)
  - ุฅุนุฏุงุฏ ุญุฏ ุงูุงุฆุชูุงู (ููู Credit)
  - ุชูุนูู ุงูุฅุทูุงุก ุงูุชููุงุฆู
  - ุดุญู ุงูุฑุตูุฏ (ููู Prepaid)
  - ุนุฑุถ ูุนูููุงุช ุงูุฑุตูุฏ/ุงูุงุฆุชูุงู

#### ูู) ุตูุญุฉ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ:
- [ ] `client/src/pages/iot/AcrelMultiTariffSchedule.tsx`
  - ุฅูุดุงุก ุฌุฏูู ุชุนุฑูุงุช ุฌุฏูุฏ (ุญุชู 8 ุชุนุฑูุงุช)
  - ุชุญุฏูุฏ ููุช ุจุฏุงูุฉ ูููุงูุฉ ููู ุชุนุฑูุฉ
  - ุชุญุฏูุฏ ุณุนุฑ ุงููููููุงุช ุณุงุนุฉ ููู ุชุนุฑูุฉ
  - ูุนุงููุฉ ุงูุฌุฏูู ุจุดูู ุจุตุฑู (Timeline)
  - ุชูุนูู/ุชุนุทูู ุงูุชุนุฑูุงุช
  - ูุซุงู: ุชุนุฑูุฉ ุงูููุงุฑ ุจุณุนุฑ ููุฎูุถ ููุทุงูุฉ ุงูุดูุณูุฉ

#### ู) ุตูุญุฉ ูุฑุงูุจุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ:
- [ ] `client/src/pages/iot/AcrelInfrastructureMonitoring.tsx`
  - ุนุฑุถ ูุฑุงุกุงุช ุนุฏุงุฏุงุช ุงููุฑุงูุจุฉ (ADW300)
  - ููุชุฑุฉ ุญุณุจ ููุน ุงูุฌูุงุฒ (generator/cable/meter_panel/solar_panel)
  - ุนุฑุถ ุงูุทุงูุฉ ุงููุตุฏุฑุฉ/ุงููุณุชูุฑุฏุฉ
  - ุนุฑุถ ุญุณุงุณุงุช ุงูุญุฑุงุฑุฉ
  - ุนุฑุถ ููุงุณุงุช ุงูุชุณุฑุจ
  - ุนุฑุถ ุญุงูุฉ ุงููุงุทุน

---

### 4๏ธโฃ ุชุญุฏูุซ ุตูุญุงุช STS ุงูููุฌูุฏุฉ

**ุงูุญุงูุฉ:** โ๏ธ ููุฌูุฏุฉ ุฌุฒุฆูุงู  
**ุงูุฃููููุฉ:** ูุชูุณุทุฉ

#### ุฃ) ุชุญุฏูุซ `client/src/pages/sts/STSManagement.tsx`:
- [ ] ุฅุถุงูุฉ ุนููุฏ "ููุน ุงูุฏูุน" (Postpaid/Prepaid/Credit)
- [ ] ุฅุถุงูุฉ ุนููุฏ "ุงูุฑุตูุฏ/ุงููููููุงุช ุงููุชุจููุฉ"
- [ ] ุฅุถุงูุฉ ุนููุฏ "ุญุฏ ุงูุงุฆุชูุงู" (ููู Credit)
- [ ] ุฅุถุงูุฉ ุฒุฑ "ุฅุนุฏุงุฏ ุงูุฏูุน" ููู ุนุฏุงุฏ
- [ ] ุฅุถุงูุฉ ููุชุฑุฉ ุญุณุจ ููุน ุงูุฏูุน

#### ุจ) ุชุญุฏูุซ `client/src/pages/sts/STSCharging.tsx`:
- [ ] ุฅุถุงูุฉ ุญูู ุงุฎุชูุงุฑ ุงูุชุนุฑูุฉ ุนูุฏ ุงูุดุญู
- [ ] ุนุฑุถ ุงููููููุงุช ุงููููุฏุฉ ุจุนุฏ ุงูุดุญู
- [ ] ุนุฑุถ ุญุณุงุจ: ุงููุจูุบ รท ุณุนุฑ ุงูุชุนุฑูุฉ = ุงููููููุงุช
- [ ] ุฅุถุงูุฉ ููุงุญุธุฉ: "STS ูููุฏ ูููููุงุช ูููุณ ุฑุตูุฏ ููุฏู"

#### ุฌ) ุตูุญุฉ ุฌุฏูุฏุฉ - ุฅุนุฏุงุฏุงุช ุงูุฏูุน STS:
- [ ] `client/src/pages/sts/STSPaymentSettings.tsx`
  - ุงุฎุชูุงุฑ ููุน ุงูุฏูุน (Postpaid/Prepaid/Credit)
  - ุฅุนุฏุงุฏ ุญุฏ ุงูุงุฆุชูุงู
  - ุนุฑุถ ูุนูููุงุช ุงูุฑุตูุฏ (ุงููููููุงุช ุงููุชุจููุฉ)
  - ุนุฑุถ ูุนูููุงุช ุงูุงุฆุชูุงู

#### ุฏ) ุตูุญุฉ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ STS:
- [ ] `client/src/pages/sts/STSMultiTariffSchedule.tsx`
  - ุฅูุดุงุก ุฌุฏูู ุชุนุฑูุงุช (ุญุชู 8 ุชุนุฑูุงุช)
  - ุนุฑุถ ุชุฃุซูุฑ ุงูุชุนุฑูุฉ ุนูู ุงููููููุงุช ุงููููุฏุฉ
  - ูุนุงููุฉ ุจุตุฑูุฉ

---

### 5๏ธโฃ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุฃููููุฉ:** ุนุงููุฉ ุฌุฏุงู

#### ุฃ) Migration ุฌุฏูุฏ ูู ACREL:
- [ ] ุฅูุดุงุก `drizzle/migrations/00XX_acrel_integration.sql`
- [ ] ุฅุถุงูุฉ ุฌุฏุงูู:
  - `acrel_meters`
  - `acrel_readings`
  - `acrel_command_logs`
  - `acrel_multi_tariff_schedules`

#### ุจ) Migration ุฌุฏูุฏ ูู STS:
- [ ] ุฅูุดุงุก `drizzle/migrations/00XX_sts_enhancements.sql`
- [ ] ุชุญุฏูุซ ุฌุฏูู `sts_meters`:
  - ุฅุถุงูุฉ `payment_mode`
  - ุฅุถุงูุฉ `credit_limit`
  - ุฅุถุงูุฉ `current_balance`
  - ุฅุถุงูุฉ `remaining_kwh`
- [ ] ุชุญุฏูุซ ุฌุฏูู `sts_charge_requests`:
  - ุฅุถุงูุฉ `kwh_generated`
- [ ] ุฅุถุงูุฉ ุฌุฏุงูู:
  - `sts_command_logs` (ุฅุฐุง ุบูุฑ ููุฌูุฏ)
  - `sts_multi_tariff_schedules`

#### ุฌ) Schema Files:
- [ ] `drizzle/schemas/acrel.ts` - ุฌููุน ุฌุฏุงูู ACREL
- [ ] ุชุญุฏูุซ `drizzle/schemas/sts.ts` (ุฅุฐุง ููุฌูุฏ)

---

### 6๏ธโฃ ุชุญุฏูุซ ุงูุชููู (Sidebar Navigation)

**ุงููููุน:** `client/src/pages/Dashboard.tsx`  
**ุงูุฃููููุฉ:** ุนุงููุฉ

#### โ ุญุงูุฉ STS ุงูุญุงููุฉ:
**STS ููุฌูุฏ ุจุงููุนู ููุฑุชุจุท!** โ
- ุงููููุน: ุงูุณุทูุฑ 428-435
- ุฏุงุฎู ูุณู "ุงูุนููุงุก ูุงูููุชุฑุฉ"
- ุงูุตูุญุงุช: 
  - โ "ุฅุฏุงุฑุฉ ุงูุนุฏุงุฏุงุช" โ `/dashboard/sts/meters` (ููุฌูุฏ ููุฑุชุจุท)
  - โ "ุดุญู ุงูุฑุตูุฏ" โ `/dashboard/sts/charging` (ููุฌูุฏ ููุฑุชุจุท)

#### ููุงู STS ุงููุชุจููุฉ:
- [ ] ุฅุถุงูุฉ ุตูุญุงุช ุฌุฏูุฏุฉ ุชุญุช ูุณู STS ุงูููุฌูุฏ:
  - [ ] "ุฅุนุฏุงุฏุงุช ุงูุฏูุน" โ `/dashboard/sts/payment-settings` (ุฌุฏูุฏ)
  - [ ] "ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ" โ `/dashboard/sts/tariff-schedules` (ุฌุฏูุฏ)

#### ููุงู ACREL (ุฌุฏูุฏุฉ):
- [ ] ุฅุถุงูุฉ ูุณู ACREL ุถูู "ุงูุนููุงุก ูุงูููุชุฑุฉ" (ุจุฌุงูุจ STS):
  ```typescript
  {
    id: "acrel",
    title: "ุนุฏุงุฏุงุช ACREL",
    icon: Smartphone, // ุฃู Zap
    children: [
      { id: "acrel-meters", title: "ุฅุฏุงุฑุฉ ุงูุนุฏุงุฏุงุช", icon: Gauge, path: "/dashboard/acrel/meters" },
      { id: "acrel-monitoring", title: "ูุฑุงูุจุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ", icon: Activity, path: "/dashboard/acrel/monitoring" },
      { id: "acrel-ct-config", title: "ูุญููุงุช ุงูุชูุงุฑ", icon: Settings, path: "/dashboard/acrel/ct-configuration" },
      { id: "acrel-tariffs", title: "ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ", icon: Clock, path: "/dashboard/acrel/tariff-schedules" },
    ],
  }
  ```

**ููุงุญุธุฉ:** 
- โ STS ููุฌูุฏ ููุฑุชุจุทุ ููุท ุฃุถู ุตูุญุงุช ุฌุฏูุฏุฉ ุชุญุชู
- โ ูุง ุชุนูุฏ ุฅูุดุงุก ูุณู STS
- โ ุฃุถู ACREL ุจุฌุงูุจ STS ูู ููุณ ุงููุณู "ุงูุนููุงุก ูุงูููุชุฑุฉ"

---

### 7๏ธโฃ ุฑุจุท ุงููุธุงุฆู ุจุงูุฃูุธูุฉ ุงูููุฌูุฏุฉ

**ุงูุฃููููุฉ:** ูุชูุณุทุฉ

#### ุฃ) ูู ูุธุงู ุงูููุชุฑุฉ (Billing):
- [ ] **ูุง ุชุนูุฏ ุจูุงุก** - ุงุณุชุฎุฏู ุงููุธุงู ุงูููุฌูุฏ
- [ ] ุฑุจุท ACREL ADL200 ูุน `metersEnhanced`:
  - ุฅุถุงูุฉ ุญูู `acrel_meter_id` ูู `meters_enhanced`
  - ุฅุถุงูุฉ ุญูู `acrel_meter_type` (ADL200/ADW300/null)
  - ุฅุถุงูุฉ ุญูู `payment_mode` (postpaid/prepaid/credit)
  - ุฅุถุงูุฉ ุญูู `credit_limit`
  - ุฅุถุงูุฉ ุญูู `ct_info` (json - ููู ADW300)

- [ ] ุชุญุฏูุซ `client/src/pages/billing/MetersManagement.tsx`:
  - ุฅุถุงูุฉ ุนููุฏ "ููุน ุงูุนุฏุงุฏ" (Traditional/STS/ACREL-ADL200/ACREL-ADW300)
  - ุฅุถุงูุฉ ุนููุฏ "ููุน ุงูุฏูุน"
  - ุฅุถุงูุฉ ุฒุฑ "ุฅุนุฏุงุฏุงุช ACREL" (ููุนุฏุงุฏุงุช ุงููุฑุชุจุทุฉ ุจู ACREL)

#### ุจ) ูู ูุธุงู ุงููุฑุงุกุงุช:
- [ ] ุชุญุฏูุซ `client/src/pages/billing/ReadingsManagement.tsx`:
  - ุฏุนู ุงููุฑุงุกุงุช ุงูุชููุงุฆูุฉ ูู ACREL
  - ุฒุฑ "ุณุญุจ ูุฑุงุกุฉ ูู ACREL" ููู ุนุฏุงุฏ ACREL
  - ุนุฑุถ ุงููุฑุงุกุงุช ุงููุชุนุฏุฏุฉ ููู ADW300 (Three Phase)

#### ุฌ) ูู ูุธุงู ุงูููุงุชูุฑ:
- [ ] ุชุญุฏูุซ `billingRouter.ts` - `generateInvoices`:
  - ุฏุนู ุญุณุงุจ ุงูููุงุชูุฑ ุญุณุจ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ (8 ุชุนุฑูุงุช)
  - ุญุณุงุจ ุงูุงุณุชููุงู ุญุณุจ ุงูุชุนุฑูุฉ ุงูุฒูููุฉ
  - ุฏุนู ุงูุงุฆุชูุงู: ุงูุชุญูู ูู ุญุฏ ุงูุงุฆุชูุงู ูุจู ุงูุฅุตุฏุงุฑ

---

### 8๏ธโฃ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชูุงููุงุช (ููุฌูุฏุฉ)

**ุงููููุน:** `client/src/pages/developer/Integrations.tsx`  
**ุงูุญุงูุฉ:** โ ููุฌูุฏุฉ  
**ุงูููุงู:**

- [ ] ุฅุถุงูุฉ ุจุทุงูุงุช ุณุฑูุนุฉ ููุชูุงููุงุช ุงูุดุงุฆุนุฉ:
  - [ ] ุจุทุงูุฉ ACREL (ูุน ุนุฏุฏ ุงูุนุฏุงุฏุงุชุ ุญุงูุฉ ุงูุงุชุตุงู)
  - [ ] ุจุทุงูุฉ STS (ูุน ุนุฏุฏ ุงูุนุฏุงุฏุงุชุ ุขุฎุฑ ุดุญู)
  - [ ] ุจุทุงูุฉ Payment Gateways (ูุน ุนุฏุฏ ุงููุนุงููุงุช)
  - [ ] ุจุทุงูุฉ Messaging (ูุน ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ)

- [ ] ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุงูุฅุนุฏุงุฏุงุช ุงูุณุฑูุนุฉ:
  - ุฒุฑ "ุฅุนุฏุงุฏ ACREL" โ ููุชุญ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ACREL
  - ุฒุฑ "ุฅุนุฏุงุฏ STS" โ ููุชุญ ุตูุญุฉ ุฅุนุฏุงุฏุงุช STS
  - ุฒุฑ "ุจูุงุจุงุช ุงูุฏูุน" โ ููุฌูุฏ
  - ุฒุฑ "ุงูุฑุณุงุฆู" โ ููุฌูุฏ

---

### 9๏ธโฃ ุชุญุฏูุซ Auto Journal Engine

**ุงููููุน:** `server/core/auto-journal-engine.ts`  
**ุงูุญุงูุฉ:** โ๏ธ ุฌุฒุฆู  
**ุงูุฃููููุฉ:** ูุชูุณุทุฉ

- [ ] ุฅุถุงูุฉ ูุธููุฉ `onAcrelRecharge()` - ููุฏ ุดุญู ุฑุตูุฏ ACREL (Prepaid)
- [ ] ุฅุถุงูุฉ ูุธููุฉ `onCreditLimitReached()` - ููุฏ ุนูุฏ ุงููุตูู ูุญุฏ ุงูุงุฆุชูุงู
- [ ] ุงูุชุฃูุฏ ูู `onSTSRecharge()` ูุญูุธ ุงููููููุงุช ุงููููุฏุฉ

---

### ๐ ุตูุญุฉ Dashboard ูููุทูุฑ (ุชุญุณูู)

**ุงููููุน:** `client/src/pages/developer/DeveloperDashboard.tsx`  
**ุงูุญุงูุฉ:** โ ููุฌูุฏุฉ  
**ุงูููุงู:**

- [ ] ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ุงูุชูุงููุงุช:
  - ุนุฏุฏ ุงูุชูุงููุงุช ุงููุดุทุฉ
  - ุนุฏุฏ ุนุฏุงุฏุงุช ACREL (ADL200/ADW300)
  - ุนุฏุฏ ุนุฏุงุฏุงุช STS
  - ุนุฏุฏ ุงูุนุฏุงุฏุงุช ูุชุตูุฉ/ูููุทุนุฉ
  - ุขุฎุฑ ูุฑุงุกุฉ ุชููุงุฆูุฉ

- [ ] ุฅุถุงูุฉ ุฑุณู ุจูุงูู:
  - ุงูุทุงูุฉ ุงููุตุฏุฑุฉ vs ุงููุณุชูุฑุฏุฉ (ููู ADW300)
  - ุงุณุชููุงู ุงูุนุฏุงุฏุงุช ุญุณุจ ุงูุชุนุฑูุงุช ุงููุฎุชููุฉ

---

### 1๏ธโฃ1๏ธโฃ Cron Jobs ูููุฑุงุกุงุช ุงูุชููุงุฆูุฉ

**ุงููููุน:** `server/core/cron-jobs.ts`  
**ุงูุญุงูุฉ:** โ๏ธ ูุญุชุงุฌ ุชุญุฏูุซ  
**ุงูุฃููููุฉ:** ูุชูุณุทุฉ

- [ ] ุฅุถุงูุฉ Cron Job: `acrel-auto-reading` (ูู ุณุงุนุฉ)
  - ุณุญุจ ุงููุฑุงุกุงุช ุชููุงุฆูุงู ูู ุฌููุน ุนุฏุงุฏุงุช ACREL
  - ุญูุธ ูู `acrel_readings`
  - ุญูุธ ูู `meter_readings_enhanced` (ููุฑุจุท ูุน ูุธุงู ุงูููุชุฑุฉ)

- [ ] ุฅุถุงูุฉ Cron Job: `sts-auto-reading` (ูู ุณุงุนุฉ)
  - ุณุญุจ ุงููุฑุงุกุงุช ุชููุงุฆูุงู ูู ุฌููุน ุนุฏุงุฏุงุช STS
  - ุชุญุฏูุซ `remaining_kwh`

- [ ] ุฅุถุงูุฉ Cron Job: `check-credit-limits` (ูู 6 ุณุงุนุงุช)
  - ุงูุชุญูู ูู ุญุฏูุฏ ุงูุงุฆุชูุงู
  - ุฅุฑุณุงู ุชูุจููุงุช ุนูุฏ ุงูุงูุชุฑุงุจ ูู ุงูุญุฏ
  - ูุตู ุงูุนุฏุงุฏ ุชููุงุฆูุงู ุฅุฐุง ูุตู ููุญุฏ

- [ ] ุชุญุฏูุซ Cron Job: `charge-subsidies` (ููุฌูุฏ)
  - ุงุณุชุฎุฏุงู `acrelService.setTariff()` ุจุฏูุงู ูู TODO

---

### 1๏ธโฃ2๏ธโฃ Notifications ููุชูุงููุงุช

**ุงููููุน:** `server/notifications/`  
**ุงูุฃููููุฉ:** ููุฎูุถุฉ

- [ ] ุฅุถุงูุฉ ููุงูุจ ุฌุฏูุฏุฉ ูู `templates.ts`:
  - `ACREL_READING_RECEIVED` - ูุฑุงุกุฉ ACREL ูุณุชููุฉ
  - `STS_TOKEN_GENERATED` - ุชููู STS ูููุฏ (ููุฌูุฏ)
  - `CREDIT_LIMIT_WARNING` - ุชุญุฐูุฑ ุงูุชุฑุงุจ ุญุฏ ุงูุงุฆุชูุงู
  - `CREDIT_LIMIT_REACHED` - ุงููุตูู ูุญุฏ ุงูุงุฆุชูุงู
  - `METER_DISCONNECTED` - ูุตู ุงูุนุฏุงุฏ
  - `METER_RECONNECTED` - ุฅุนุงุฏุฉ ุชูุตูู ุงูุนุฏุงุฏ

---

### 1๏ธโฃ3๏ธโฃ ุงุฎุชุจุงุฑุงุช (Testing)

**ุงูุฃููููุฉ:** ููุฎูุถุฉ (ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุชูููุฐ)

- [ ] `server/__tests__/acrel-integration.test.ts`
  - ุงุฎุชุจุงุฑ ุฌููุน ูุธุงุฆู AcrelAPIClient
  - ุงุฎุชุจุงุฑ ุฌููุน ูุธุงุฆู AcrelService

- [ ] `server/__tests__/sts-integration.test.ts`
  - ุงุฎุชุจุงุฑ ุฌููุน ูุธุงุฆู STSAPIClient
  - ุงุฎุชุจุงุฑ ุฌููุน ูุธุงุฆู STSService

---

## ๐ ููุงุญุธุงุช ูููุฉ ุฌุฏุงู - ูุฌุจ ูุฑุงุกุชูุง

### โ๏ธ ูุจู ุฅุถุงูุฉ ุฃู ุดูุก:

1. **ูุง ุชูุฑุฑ ูุง ูู ููุฌูุฏ:**
   - ูุธุงู ุงูููุชุฑุฉ ููุฌูุฏ โ ุงุณุชุฎุฏูู ููุง ุชุนูุฏ ุจูุงุกู
   - ูุธุงู ุงููุฑุงุกุงุช ููุฌูุฏ โ ุงุณุชุฎุฏูู ููุง ุชุนูุฏ ุจูุงุกู
   - ูุธุงู ุงููุฏููุนุงุช ููุฌูุฏ โ ุงุณุชุฎุฏูู ููุง ุชุนูุฏ ุจูุงุกู

2. **ููู ุงููุธุงู ุงูููุฌูุฏ ุฃููุงู:**
   - ุงูุฑุฃ ุงูููุฏ ุงูููุฌูุฏ
   - ุงููู ููู ูุนูู
   - ุซู ุฃุถู ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ ููุท

3. **ูุง ุชุถู ุดูุก ูุง ุชูููู:**
   - ุฅุฐุง ูู ุชููู ููุฑุฉ ุงููุธุงูุ ุงุณุฃู ุฃู ุงุจุญุซ
   - ูุง ุชุถู ูุธููุฉ ูุง ุชุนุฑู ูุงุฆุฏุชูุง

4. **ุงุณุชุฎุฏู ุงูู Services ุงูููุฌูุฏุฉ:**
   - `acrelService` ููุฌูุฏ โ ุงุณุชุฎุฏูู
   - `stsService` ููุฌูุฏ โ ุงุณุชุฎุฏูู
   - ูุง ุชูุดุฆ services ุฌุฏูุฏุฉ ุจุฏูู ุฏุงุนู

5. **Frontend - ูุง ุชูุฑุฑ ุงูููููุงุช:**
   - ุงูููููุงุช ุงูุฃุณุงุณูุฉ ููุฌูุฏุฉ (Table, Card, Button, Dialog, ุฅูุฎ)
   - ุงุณุชุฎุฏููุง ููุง ุชูุดุฆ ููููุงุช ุฌุฏูุฏุฉ ุจููุณ ุงููุธููุฉ

---

## ๐ฏ ุงูุฃููููุงุช

### ุฃููููุฉ ุนุงููุฉ ุฌุฏุงู:
1. ุฅุถุงูุฉ ACREL Router ุฅูู `developer.integrations`
2. ุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ACREL + STS enhancements)
3. ุฅูุดุงุก Schema Files

### ุฃููููุฉ ุนุงููุฉ:
1. ุตูุญุฉ ุฅุฏุงุฑุฉ ุนุฏุงุฏุงุช ACREL
2. ุตูุญุฉ ุชูุงุตูู ุงูุนุฏุงุฏ ACREL
3. ุชุญุฏูุซ ุตูุญุงุช STS

### ุฃููููุฉ ูุชูุณุทุฉ:
1. ุตูุญุฉ ุฅุนุฏุงุฏุงุช ูุญููุงุช ุงูุชูุงุฑ
2. ุตูุญุฉ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ
3. Cron Jobs ูููุฑุงุกุงุช ุงูุชููุงุฆูุฉ
4. ุชุญุฏูุซ Auto Journal Engine

### ุฃููููุฉ ููุฎูุถุฉ:
1. ุตูุญุฉ ูุฑุงูุจุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ
2. Notifications
3. ุงุฎุชุจุงุฑุงุช

---

## ๐ ุงูุชูุงุตูู ุงููููุฉ ุงููููุฉ

### ุงููุฑู ุจูู ADL200 ู STS ูู ุงููุณุจู ุงูุฏูุน:

```
ADL200 Prepaid:
- ุงูุฑุตูุฏ: 100 ุฑูุงู (ููุฏู)
- ุงูุชุนุฑูุฉ: 0.18 ุฑูุงู/ูููู
- ุงูุงุณุชููุงู: 1 ูููู โ ุงูุฑุตูุฏ ูุตุจุญ 99.82 ุฑูุงู
- ูุชูุงูุต ูุน ูู ุงุณุชููุงู

STS Prepaid:
- ุงูุดุญู: 100 ุฑูุงู
- ุงูุชุนุฑูุฉ: 0.18 ุฑูุงู/ูููู
- ูุญุณุจ: 100 / 0.18 = 555.56 ูููู
- ูููุฏ ููุฏ: "12345678901234567890" (ูุญุชูู ุนูู 555.56 ูููู)
- ุงูุนุฏุงุฏ ูุณุชููู ูู ุงููููููุงุช ูุจุงุดุฑุฉ
```

### ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ (8 ุชุนุฑูุงุช):

```typescript
// ูุซุงู: ููู ูุงูู ูุน 6 ุชุนุฑูุงุช
[
  { startTime: "06:00", endTime: "10:00", pricePerKWH: 0.12 }, // ุดูุณูุฉ
  { startTime: "10:00", endTime: "14:00", pricePerKWH: 0.15 }, // ุตุจุงุญ
  { startTime: "14:00", endTime: "18:00", pricePerKWH: 0.18 }, // ุธููุฑุฉ
  { startTime: "18:00", endTime: "22:00", pricePerKWH: 0.20 }, // ูุณุงุก
  { startTime: "22:00", endTime: "02:00", pricePerKWH: 0.18 }, // ููู
  { startTime: "02:00", endTime: "06:00", pricePerKWH: 0.16 }, // ูุฌุฑ
]
```

### ุงูุงุฆุชูุงู (Credit):

```
ุงูุนููู ูุถุน ุชุฃููู: 500 ุฑูุงู
ุงูุนุฏุงุฏ ูุตุฏุฑ ููุงุชูุฑ ุนูู ุฃุณุงุณ ุงูุฏูุน ุงูุขุฌู:
- ุดูุฑ 1: ูุงุชูุฑุฉ 150 ุฑูุงู โ ุงูุฏูู = 150
- ุดูุฑ 2: ูุงุชูุฑุฉ 180 ุฑูุงู โ ุงูุฏูู = 330
- ุดูุฑ 3: ูุงุชูุฑุฉ 170 ุฑูุงู โ ุงูุฏูู = 500
โ ุงููุตูู ูุญุฏ ุงูุงุฆุชูุงู โ ุงูุนุฏุงุฏ ูุทูุฃ ุชููุงุฆูุงู
```

---

## โ ุฎุทุฉ ุงูุชูููุฐ ุงูููุชุฑุญุฉ

### ุงููุฑุญูุฉ 1: ุงูุจููุฉ ุงูุชุญุชูุฉ (Backend)
1. ุฅูุดุงุก Schema Files
2. ุฅูุดุงุก Migrations
3. ุฅุถุงูุฉ ACREL Router
4. ุชุญุฏูุซ `metersEnhanced` schema

### ุงููุฑุญูุฉ 2: ุงูุตูุญุงุช ุงูุฃุณุงุณูุฉ (Frontend)
1. ุตูุญุฉ ุฅุฏุงุฑุฉ ุนุฏุงุฏุงุช ACREL
2. ุตูุญุฉ ุชูุงุตูู ุงูุนุฏุงุฏ ACREL
3. ุชุญุฏูุซ ุตูุญุงุช STS

### ุงููุฑุญูุฉ 3: ุงูููุฒุงุช ุงููุชูุฏูุฉ
1. ุตูุญุฉ ูุญููุงุช ุงูุชูุงุฑ
2. ุตูุญุฉ ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ
3. ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุฏูุน

### ุงููุฑุญูุฉ 4: ุงูุฃุชูุชุฉ ูุงูุชูุงูู
1. Cron Jobs ูููุฑุงุกุงุช
2. ุชุญุฏูุซ Auto Journal Engine
3. Notifications

### ุงููุฑุญูุฉ 5: ุงููุฑุงูุจุฉ ูุงูุชูุงุฑูุฑ
1. ุตูุญุฉ ูุฑุงูุจุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ
2. ุชูุงุฑูุฑ ุงููุฑุงุกุงุช
3. ุชูุงุฑูุฑ ุงูุงุณุชููุงู ุญุณุจ ุงูุชุนุฑูุงุช

---

## ๐ ูุณุจุฉ ุงูุฅูุฌุงุฒ ุงูุญุงููุฉ

- โ API Clients: 100%
- โ Services: 100%
- โ Router Integration: 50% (ACREL Router ุบูุฑ ููุฌูุฏ)
- โ Database Schema: 0%
- โ Frontend Pages: 0%
- โ Cron Jobs: 0%
- โ Testing: 0%

**ุงูุฅุฌูุงูู:** ~25%

---

## ๐ซ ูุง ูุง ูุฌุจ ูุนูู

1. โ ูุง ุชูุดุฆ ูุธุงู ููุชุฑุฉ ุฌุฏูุฏ (ููุฌูุฏ ูููุชูู)
2. โ ูุง ุชูุดุฆ ูุธุงู ูุฑุงุกุงุช ุฌุฏูุฏ (ููุฌูุฏ ูููุชูู)
3. โ ูุง ุชูุดุฆ ูุธุงู ูุฏููุนุงุช ุฌุฏูุฏ (ููุฌูุฏ ูููุชูู)
4. โ ูุง ุชูุดุฆ routers ุฎุงุฑุฌ `developer.integrations`
5. โ ูุง ุชูุดุฆ components ุฃุณุงุณูุฉ (Table, Card, ุฅูุฎ - ููุฌูุฏุฉ)
6. โ ูุง ุชุถู ุชูุงููุงุช ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุจุดูู ุนุดูุงุฆู

---

## โ ูุง ูุฌุจ ูุนูู

1. โ ุงุณุชุฎุฏู ุงูุฃูุธูุฉ ุงูููุฌูุฏุฉ ูุฃุถู ููุง ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ
2. โ ุฃุถู ACREL Router ูู `developer.integrations`
3. โ ุฃูุดุฆ ุตูุญุงุช ACREL ูู `client/src/pages/iot/`
4. โ ุญุฏูุซ ุตูุญุงุช STS ุงูููุฌูุฏุฉ
5. โ ุฃุถู ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุทููุจุฉ ููุท
6. โ ุฑุจุท ูู ุดูุก ุจุงูุฃูุธูุฉ ุงูููุฌูุฏุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-06  
**ุงูุญุงูุฉ:** ูุณุชุนุฏ ููุชูููุฐ

