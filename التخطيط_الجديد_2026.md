# ๐ ุงูุชุฎุทูุท ุงูุฌุฏูุฏ 2026
## ุฎุทุฉ ุงูุชูููุฐ ุงูุดุงููุฉ - ูู ุงููููุงุช ุงูุซูุงุซุฉ ููุท

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 7 ููุงูุฑ 2026  
**ุงููุตุงุฏุฑ:** 
- FINAL_TODO_2026_READY.md
- TODO-2026.md
- SYSTEM_AUDIT_BEFORE_TODO.md

**ุงููุธุงู ุงูุญุงูู:** 60% ููุชูู (193 ูููุฉ ููุฌุฒุฉ)

---

## โ **ูุง ููุฌูุฏ ุจุงููุนู (ูู SYSTEM_AUDIT):**

### 1. ูุธุงู STS โ
- โ ุงูุตูุญุงุช: `STSManagement.tsx`, `STSCharging.tsx`
- โ Router: `stsRouter.ts`
- โ Service: `sts-service.ts`
- โ API Client: `sts-api-client.ts`
- โ **ูุฑุชุจุท ุจุงูุชุจููุจ:** ูุนู (ุงูุณุทุฑ 428-435 ูู Dashboard.tsx)

### 2. ูุธุงู ุงูููุชุฑุฉ โ
- โ ุงูุนุฏุงุฏุงุช: `MetersManagement.tsx`
- โ ุงููุฑุงุกุงุช: `MeterReadingsManagement.tsx`
- โ ุงูููุงุชูุฑุ ุงููุฏููุนุงุชุ ุงูุชุญุตูู

### 3. ูุธุงู ุงููุทูุฑ โ
- โ Integrations: ููุฌูุฏ
- โ Payment Gateways: ููุฌูุฏ
- โ Messaging (SMS/WhatsApp): ููุฌูุฏ

### 4. ุจุงูู ุงูุฃูุธูุฉ (20+ ูุธุงู) โ

---

## โ **ุงูููุงู ุงููุงูุตุฉ (ูู ุงููููุงุช ุงูุซูุงุซุฉ ููุท):**

---

### ๐ด **1. ACREL Router ูู Backend**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 30-182) + TODO-2026 (ุงูุณุทุฑ 50-112)  
**ุงููููุน:** `server/routers.ts` (ุงูุณุทุฑ ~1125)

```typescript
// ูู developer.integrations
acrel: router({
  // ุฅุฏุงุฑุฉ ุงูุนุฏุงุฏุงุช
  meters: router({
    list: protectedProcedure
      .input(z.object({ 
        businessId: z.number(),
        meterType: z.enum(["ADL200", "ADW300"]).optional(),
        paymentMode: z.enum(["postpaid", "prepaid", "credit"]).optional(),
      }))
      .query(async ({ input }) => {
        // ุงุณุชุฎุฏุงู acrelService
      }),
    
    getInfo: protectedProcedure
      .input(z.object({ meterId: z.number() }))
      .query(async ({ input }) => {
        return await acrelService.getMeterInfo(input.meterId);
      }),
    
    getReading: protectedProcedure
      .input(z.object({ meterId: z.number() }))
      .query(async ({ input }) => {
        return await acrelService.getReading(input.meterId);
      }),
    
    getStatus: protectedProcedure
      .input(z.object({ meterId: z.number() }))
      .query(async ({ input }) => {
        return await acrelService.getMeterStatus(input.meterId);
      }),
    
    disconnect: adminProcedure
      .input(z.object({ meterId: z.number(), reason: z.string().optional() }))
      .mutation(async ({ input }) => {
        return await acrelService.disconnectMeter(input.meterId, input.reason);
      }),
    
    reconnect: adminProcedure
      .input(z.object({ meterId: z.number() }))
      .mutation(async ({ input }) => {
        return await acrelService.reconnectMeter(input.meterId);
      }),
    
    setTariff: adminProcedure
      .input(z.object({ meterId: z.number(), tariffId: z.string() }))
      .mutation(async ({ input }) => {
        return await acrelService.setTariff(input.meterId, input.tariffId);
      }),
    
    connectToWiFi: adminProcedure
      .input(z.object({ meterId: z.number(), ssid: z.string(), password: z.string() }))
      .mutation(async ({ input }) => {
        return await acrelService.connectToWiFi(input.meterId, input.ssid, input.password);
      }),
  }),
  
  // ูุญููุงุช ุงูุชูุงุฑ (CT)
  ct: router({
    configure: adminProcedure
      .input(z.object({
        meterId: z.number(),
        ct1Size: z.number(),
        ct2Size: z.number(),
        ct3Size: z.number(),
        ct1CoreType: z.enum(["split", "solid"]),
        ct2CoreType: z.enum(["split", "solid"]),
        ct3CoreType: z.enum(["split", "solid"]),
      }))
      .mutation(async ({ input }) => {
        return await acrelService.configureExternalCTs(
          input.meterId,
          input.ct1Size,
          input.ct2Size,
          input.ct3Size,
          input.ct1CoreType,
          input.ct2CoreType,
          input.ct3CoreType
        );
      }),
    
    update: adminProcedure
      .input(z.object({ meterId: z.number(), ctInfo: z.any() }))
      .mutation(async ({ input }) => {
        return await acrelService.updateCTInfo(input.meterId, input.ctInfo);
      }),
  }),
  
  // ุฃูุธูุฉ ุงูุฏูุน
  payment: router({
    setMode: adminProcedure
      .input(z.object({
        meterId: z.number(),
        mode: z.enum(["postpaid", "prepaid", "credit"]),
      }))
      .mutation(async ({ input }) => {
        if (input.mode === "postpaid") {
          return await acrelService.setPostpaidMode(input.meterId, true);
        } else if (input.mode === "prepaid") {
          return await acrelService.setPrepaidMode(input.meterId, true);
        }
      }),
    
    recharge: protectedProcedure
      .input(z.object({ meterId: z.number(), amount: z.number() }))
      .mutation(async ({ input }) => {
        return await acrelService.rechargeBalance(input.meterId, input.amount);
      }),
    
    getBalance: protectedProcedure
      .input(z.object({ meterId: z.number() }))
      .query(async ({ input }) => {
        return await acrelService.getPrepaidBalance(input.meterId);
      }),
    
    setCreditLimit: adminProcedure
      .input(z.object({ 
        meterId: z.number(), 
        creditLimit: z.number(),
        autoDisconnect: z.boolean().default(true),
      }))
      .mutation(async ({ input }) => {
        return await acrelService.setCreditLimit(input.meterId, input.creditLimit, input.autoDisconnect);
      }),
    
    getCreditInfo: protectedProcedure
      .input(z.object({ meterId: z.number() }))
      .query(async ({ input }) => {
        return await acrelService.getCreditInfo(input.meterId);
      }),
  }),
  
  // ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ
  tariff: router({
    setSchedule: adminProcedure
      .input(z.object({
        meterId: z.number(),
        tariffs: z.array(z.object({
          tariffId: z.string(),
          name: z.string(),
          startTime: z.string(),
          endTime: z.string(),
          pricePerKWH: z.number(),
          isActive: z.boolean(),
        })).max(8),
        effectiveDate: z.string().optional(),
      }))
      .mutation(async ({ input }) => {
        return await acrelService.setMultiTariffSchedule(input.meterId, {
          meterId: input.meterId.toString(),
          tariffs: input.tariffs,
          effectiveDate: input.effectiveDate,
        });
      }),
    
    getSchedule: protectedProcedure
      .input(z.object({ meterId: z.number() }))
      .query(async ({ input }) => {
        return await acrelService.getMultiTariffSchedule(input.meterId);
      }),
  }),
  
  // ุงููุฑุงูุจุฉ
  monitoring: router({
    getMetrics: protectedProcedure
      .input(z.object({
        deviceType: z.enum(["generator", "cable", "meter_panel", "solar_panel"]).optional(),
      }))
      .query(async ({ input }) => {
        return await acrelService.getInfrastructureMetrics(input.deviceType);
      }),
    
    getMeterReadings: protectedProcedure
      .input(z.object({ deviceType: z.string().optional() }))
      .query(async ({ input }) => {
        return await acrelService.getMonitoringReadings(input.deviceType);
      }),
  }),
  
  // ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
  api: router({
    testConnection: adminProcedure
      .input(z.object({ apiUrl: z.string().optional() }))
      .mutation(async ({ input }) => {
        return await acrelService.testConnection(input.apiUrl);
      }),
  }),
}),
```

---

### ๐ด **2. ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ACREL**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 204-296) + TODO-2026 (ุงูุณุทุฑ 116-147)  
**ุงููููุน:** `drizzle/schemas/acrel.ts` (ุฌุฏูุฏ)

#### ุงูุฌุฏุงูู ุงููุทููุจุฉ:

**1. acrel_meters:**
```typescript
export const acrelMeters = mysqlTable("acrel_meters", {
  id: int("id").autoincrement().primaryKey(),
  businessId: int("business_id").notNull(),
  meterId: int("meter_id"), // ุฑุจุท ุจู meters_enhanced
  acrelMeterId: varchar("acrel_meter_id", { length: 100 }).notNull(),
  meterType: mysqlEnum("meter_type", ["ADL200", "ADW300"]).notNull(),
  phaseType: mysqlEnum("phase_type", ["single", "three"]).notNull(),
  connectionType: mysqlEnum("connection_type", ["wifi", "rs485", "mqtt"]).default("wifi"),
  networkId: varchar("network_id", { length: 100 }),
  paymentMode: mysqlEnum("payment_mode", ["postpaid", "prepaid", "credit"]).default("postpaid"),
  creditLimit: decimal("credit_limit", { precision: 18, scale: 2 }),
  currentBalance: decimal("current_balance", { precision: 18, scale: 2 }).default("0"),
  ctType: mysqlEnum("ct_type", ["built_in", "external"]),
  ctInfo: json("ct_info"),
  status: mysqlEnum("status", ["online", "offline", "maintenance"]).default("offline"),
  createdAt: timestamp("created_at").defaultNow().notNull(),
  updatedAt: timestamp("updated_at").defaultNow().onUpdateNow().notNull(),
});
```

**2. acrel_readings:**
```typescript
export const acrelReadings = mysqlTable("acrel_readings", {
  id: int("id").autoincrement().primaryKey(),
  acrelMeterId: int("acrel_meter_id").notNull(),
  readingDate: timestamp("reading_date").notNull(),
  // Single Phase
  voltage: decimal("voltage", { precision: 10, scale: 2 }),
  current: decimal("current", { precision: 10, scale: 3 }),
  power: decimal("power", { precision: 15, scale: 3 }),
  energy: decimal("energy", { precision: 18, scale: 3 }),
  // Three Phase
  voltageL1: decimal("voltage_l1", { precision: 10, scale: 2 }),
  voltageL2: decimal("voltage_l2", { precision: 10, scale: 2 }),
  voltageL3: decimal("voltage_l3", { precision: 10, scale: 2 }),
  currentL1: decimal("current_l1", { precision: 10, scale: 3 }),
  currentL2: decimal("current_l2", { precision: 10, scale: 3 }),
  currentL3: decimal("current_l3", { precision: 10, scale: 3 }),
  powerL1: decimal("power_l1", { precision: 15, scale: 3 }),
  powerL2: decimal("power_l2", { precision: 15, scale: 3 }),
  powerL3: decimal("power_l3", { precision: 15, scale: 3 }),
  exportedEnergy: decimal("exported_energy", { precision: 18, scale: 3 }),
  importedEnergy: decimal("imported_energy", { precision: 18, scale: 3 }),
  totalEnergy: decimal("total_energy", { precision: 18, scale: 3 }),
  // ุญุณุงุณุงุช
  temperature1: decimal("temperature1", { precision: 5, scale: 2 }),
  temperature2: decimal("temperature2", { precision: 5, scale: 2 }),
  temperature3: decimal("temperature3", { precision: 5, scale: 2 }),
  temperature4: decimal("temperature4", { precision: 5, scale: 2 }),
  leakageCurrent: decimal("leakage_current", { precision: 10, scale: 3 }),
  breakerStatus: varchar("breaker_status", { length: 20 }),
  createdAt: timestamp("created_at").defaultNow().notNull(),
});
```

**3. acrel_command_logs:**
```typescript
export const acrelCommandLogs = mysqlTable("acrel_command_logs", {
  id: int("id").autoincrement().primaryKey(),
  acrelMeterId: int("acrel_meter_id").notNull(),
  commandType: varchar("command_type", { length: 50 }).notNull(),
  commandId: varchar("command_id", { length: 100 }),
  status: mysqlEnum("status", ["pending", "executed", "failed"]).default("pending"),
  requestData: json("request_data"),
  responseData: json("response_data"),
  error: text("error"),
  createdAt: timestamp("created_at").defaultNow().notNull(),
  executedAt: timestamp("executed_at"),
});
```

**4. acrel_multi_tariff_schedules:**
```typescript
export const acrelMultiTariffSchedules = mysqlTable("acrel_multi_tariff_schedules", {
  id: int("id").autoincrement().primaryKey(),
  acrelMeterId: int("acrel_meter_id").notNull(),
  tariffData: json("tariff_data").notNull(), // ุญุชู 8 ุชุนุฑูุงุช
  effectiveDate: date("effective_date"),
  isActive: boolean("is_active").default(true),
  createdAt: timestamp("created_at").defaultNow().notNull(),
  updatedAt: timestamp("updated_at").defaultNow().onUpdateNow().notNull(),
});
```

---

### ๐ด **2. ุฌุฏุงูู STS (ุชุญุฏูุซุงุช)**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 300-336) + TODO-2026 (ุงูุณุทุฑ 134-147)

```sql
-- ุชุญุฏูุซ ุฌุฏูู sts_meters
ALTER TABLE sts_meters 
ADD COLUMN payment_mode ENUM('postpaid', 'prepaid', 'credit') DEFAULT 'prepaid',
ADD COLUMN credit_limit DECIMAL(18,2),
ADD COLUMN current_balance DECIMAL(18,2) DEFAULT 0,
ADD COLUMN remaining_kwh DECIMAL(15,3) DEFAULT 0;

-- ุชุญุฏูุซ ุฌุฏูู sts_charge_requests
ALTER TABLE sts_charge_requests 
ADD COLUMN kwh_generated DECIMAL(15,3);

-- ุฅูุดุงุก ุฌุฏูู ุฌุฏูุฏ (ุฅุฐุง ุบูุฑ ููุฌูุฏ)
CREATE TABLE sts_command_logs (
  id INT AUTO_INCREMENT PRIMARY KEY,
  sts_meter_id INT NOT NULL,
  command_type VARCHAR(50) NOT NULL,
  status ENUM('pending', 'executed', 'failed') DEFAULT 'pending',
  request_data JSON,
  response_data JSON,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ
CREATE TABLE sts_multi_tariff_schedules (
  id INT AUTO_INCREMENT PRIMARY KEY,
  sts_meter_id INT NOT NULL,
  tariff_data JSON NOT NULL,
  effective_date DATE,
  is_active BOOLEAN DEFAULT true
);
```

---

### ๐ด **3. ุชุญุฏูุซ meters_enhanced**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 338-356) + TODO-2026 (ุงูุณุทุฑ 322-329)

```sql
ALTER TABLE meters_enhanced
ADD COLUMN external_integration_type ENUM('none', 'acrel', 'sts') DEFAULT 'none',
ADD COLUMN acrel_meter_id VARCHAR(100),
ADD COLUMN acrel_meter_type ENUM('ADL200', 'ADW300'),
ADD COLUMN sts_meter_id VARCHAR(100),
ADD COLUMN payment_mode ENUM('postpaid', 'prepaid', 'credit') DEFAULT 'postpaid',
ADD COLUMN credit_limit DECIMAL(18,2),
ADD COLUMN ct_info JSON;
```

---

### ๐ด **4. ุตูุญุงุช ACREL (Frontend)**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 358-462) + TODO-2026 (ุงูุณุทุฑ 150-209)  
**ุงููููุน:** `client/src/pages/iot/` ุฃู `client/src/pages/acrel/`

#### ุฃ) AcrelMeters.tsx
- ูุงุฆูุฉ ุงูุนุฏุงุฏุงุช (ADL200 ู ADW300)
- ููุชุฑุฉ ุญุณุจ ุงูููุน
- ููุชุฑุฉ ุญุณุจ ููุน ุงูุฏูุน
- ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู

#### ุจ) AcrelMeterDetails.tsx
- ูุนูููุงุช ุงูุนุฏุงุฏ
- ุงููุฑุงุกุงุช ุงูุญูุฉ
- ูุญููุงุช ุงูุชูุงุฑ (ADW300)
- ููุน ุงูุฏูุน ูุงูุฑุตูุฏ

#### ุฌ) AcrelCTConfiguration.tsx
- ุฅุนุฏุงุฏ ูุญููุงุช ุงูุชูุงุฑ (External)
- ุงุฎุชูุงุฑ ุงูุญุฌู ูุงูููุน

#### ุฏ) AcrelPaymentSettings.tsx
- ุงุฎุชูุงุฑ ููุน ุงูุฏูุน
- ุฅุนุฏุงุฏ ุงูุงุฆุชูุงู
- ุดุญู ุงูุฑุตูุฏ

#### ูู) AcrelMultiTariffSchedule.tsx
- ุฌุฏูู 8 ุชุนุฑูุงุช
- ูุนุงููุฉ ุจุตุฑูุฉ

#### ู) AcrelInfrastructureMonitoring.tsx
- ูุฑุงูุจุฉ ุนุฏุงุฏุงุช ADW300
- ุงูุทุงูุฉ ุงููุณุชูุฑุฏุฉ/ุงููุตุฏุฑุฉ
- ุงูุญุฑุงุฑุฉ ูุงูุชุณุฑุจ

---

### ๐ก **5. ุชุญุฏูุซ ุตูุญุงุช STS**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 465-541) + TODO-2026 (ุงูุณุทุฑ 212-242)

#### ุฃ) ุชุญุฏูุซ STSManagement.tsx:
- [ ] ุฅุถุงูุฉ ุนููุฏ "ููุน ุงูุฏูุน"
- [ ] ุฅุถุงูุฉ ุนููุฏ "ุงูุฑุตูุฏ/ุงููููููุงุช"
- [ ] ุฅุถุงูุฉ ุนููุฏ "ุญุฏ ุงูุงุฆุชูุงู"
- [ ] ุฅุถุงูุฉ ููุชุฑุฉ

#### ุจ) ุชุญุฏูุซ STSCharging.tsx:
- [ ] ุฅุถุงูุฉ ุงุฎุชูุงุฑ ุงูุชุนุฑูุฉ
- [ ] ุนุฑุถ ุงููููููุงุช ุงููููุฏุฉ
- [ ] ุญุณุงุจ: ุงููุจูุบ รท ุณุนุฑ ุงูุชุนุฑูุฉ = ูููููุงุช

#### ุฌ) STSPaymentSettings.tsx (ุฌุฏูุฏ):
- ุงุฎุชูุงุฑ ููุน ุงูุฏูุน
- ุฅุนุฏุงุฏ ุงูุงุฆุชูุงู
- ุนุฑุถ ุงูุฑุตูุฏ

#### ุฏ) STSMultiTariffSchedule.tsx (ุฌุฏูุฏ):
- ุฌุฏูู 8 ุชุนุฑูุงุช
- ูุนุงููุฉ ุจุตุฑูุฉ

---

### ๐ก **6. ุชุญุฏูุซ ุตูุญุฉ ุงูุนุฏุงุฏุงุช ุงูููุฌูุฏุฉ**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 525-540) + SYSTEM_AUDIT (ุงูุณุทุฑ 347-358)  
**ุงูููู:** `client/src/pages/billing/meters/MetersManagement.tsx`

**โ๏ธ ูุง ุชุนูุฏ ุฅูุดุงุก - ุญุฏูุซ ููุท:**
- [ ] ุฅุถุงูุฉ ุญูู "ุงูุชูุงูู ุงูุฎุงุฑุฌู" (Traditional/ACREL/STS)
- [ ] ุฅุถุงูุฉ ุญูู "ACREL Meter ID"
- [ ] ุฅุถุงูุฉ ุญูู "STS Meter ID"
- [ ] ุฅุถุงูุฉ ุญูู "ููุน ุงูุฏูุน"
- [ ] ุฅุถุงูุฉ ุญูู "ุญุฏ ุงูุงุฆุชูุงู"
- [ ] ุฅุถุงูุฉ ุนููุฏ "ุงูุชูุงูู" ูู ุงูุฌุฏูู
- [ ] ุฅุถุงูุฉ ุฒุฑ "ุฅุนุฏุงุฏุงุช ACREL"
- [ ] ุฅุถุงูุฉ ุฒุฑ "ุฅุนุฏุงุฏุงุช STS"

---

### ๐ก **7. ุชุญุฏูุซ ุตูุญุฉ ุงููุฑุงุกุงุช ุงูููุฌูุฏุฉ**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 543-556) + SYSTEM_AUDIT (ุงูุณุทุฑ 360-372)  
**ุงูููู:** `client/src/pages/billing/invoicing/MeterReadingsManagement.tsx`

**โ๏ธ ูุง ุชุนูุฏ ุฅูุดุงุก - ุญุฏูุซ ููุท:**
- [ ] ุฅุถุงูุฉ ุฒุฑ "ุณุญุจ ูู ACREL"
- [ ] ุนุฑุถ ูุฑุงุกุงุช Three Phase (L1, L2, L3)
- [ ] ุนุฑุถ ุงูุทุงูุฉ ุงููุตุฏุฑุฉ/ุงููุณุชูุฑุฏุฉ
- [ ] ุนุฑุถ ุงูุญุฑุงุฑุฉ
- [ ] ุนุฑุถ ุงูุชุณุฑุจ
- [ ] ุนุฑุถ ุญุงูุฉ ุงููุงุทุน

---

### ๐ก **8. ุชุญุฏูุซ ุงูุชููู (Dashboard.tsx)**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 558-634)

#### ุฃ) ุชุญุฏูุซ ูุณู STS (ููุฌูุฏ ูู ุงูุณุทุฑ 428-435):
```typescript
{
  id: "sts",
  title: "ุนุฏุงุฏุงุช STS",
  icon: Smartphone,
  children: [
    { id: "sts-meters", title: "ุฅุฏุงุฑุฉ ุงูุนุฏุงุฏุงุช", icon: Gauge, path: "/dashboard/sts/meters" },
    { id: "sts-charging", title: "ุดุญู ุงูุฑุตูุฏ", icon: CreditCard, path: "/dashboard/sts/charging" },
    // ุฌุฏูุฏ:
    { id: "sts-payment-settings", title: "ุฅุนุฏุงุฏุงุช ุงูุฏูุน", icon: Settings, path: "/dashboard/sts/payment-settings" },
    { id: "sts-tariff", title: "ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ", icon: Clock, path: "/dashboard/sts/tariff-schedules" },
  ],
},
```

#### ุจ) ุฅุถุงูุฉ ูุณู ACREL (ุฌุฏูุฏ):
```typescript
{
  id: "acrel",
  title: "ุนุฏุงุฏุงุช ACREL",
  icon: Smartphone,
  children: [
    { id: "acrel-meters", title: "ุฅุฏุงุฑุฉ ุงูุนุฏุงุฏุงุช", icon: Gauge, path: "/dashboard/acrel/meters" },
    { id: "acrel-monitoring", title: "ูุฑุงูุจุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ", icon: Activity, path: "/dashboard/acrel/monitoring" },
    { id: "acrel-ct", title: "ูุญููุงุช ุงูุชูุงุฑ", icon: Settings, path: "/dashboard/acrel/ct-configuration" },
    { id: "acrel-tariff", title: "ุงูุชุนุฑูุงุช ุงููุชุนุฏุฏุฉ", icon: Clock, path: "/dashboard/acrel/tariff-schedules" },
  ],
},
```

---

### ๐ข **9. Cron Jobs**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 638-648) + TODO-2026 (ุงูุณุทุฑ 400-422)

**ุงููููุน:** `server/core/cron-jobs.ts`

```typescript
// ูุฒุงููุฉ ูุฑุงุกุงุช ACREL (ูู ุณุงุนุฉ)
cron.schedule('0 * * * *', async () => {
  // ุฌูุจ ูุฑุงุกุงุช ุฌููุน ุนุฏุงุฏุงุช ACREL
});

// ูุฒุงููุฉ ูุฑุงุกุงุช STS (ูู ุณุงุนุฉ)
cron.schedule('0 * * * *', async () => {
  // ุฌูุจ ูุฑุงุกุงุช ุฌููุน ุนุฏุงุฏุงุช STS
});

// ูุญุต ุญุฏูุฏ ุงูุงุฆุชูุงู (ูู 6 ุณุงุนุงุช)
cron.schedule('0 */6 * * *', async () => {
  // ูุญุต ูุฅุฑุณุงู ุชูุจููุงุช
});
```

---

### ๐ข **10. Auto Journal Engine**

**ุงููุตุฏุฑ:** FINAL_TODO (ุงูุณุทุฑ 651-660) + TODO-2026 (ุงูุณุทุฑ 369-378)

**ุงููููุน:** `server/core/auto-journal-engine.ts`

```typescript
// ุฅุถุงูุฉ ูุธููุฉ onAcrelRecharge()
static async onAcrelRecharge(data) {
  // ููุฏ ุดุญู ุฑุตูุฏ ACREL
}

// ุฅุถุงูุฉ ูุธููุฉ onCreditLimitReached()
static async onCreditLimitReached(data) {
  // ููุฏ ุนูุฏ ุงููุตูู ูุญุฏ ุงูุงุฆุชูุงู
}

// ุชุญุฏูุซ onSTSRecharge() ูุญูุธ ุงููููููุงุช
static async onSTSRecharge(data) {
  // ุญูุธ kwh_generated
}
```

---

## ๐ **ุงูููุฎุต ุงูููุงุฆู:**

### โ **ุงูููุงู (ูู ุงููููุงุช ุงูุซูุงุซุฉ ููุท):**

1. โ ACREL Router (Backend)
2. โ ACREL Schemas (4 ุฌุฏุงูู)
3. โ ACREL Pages (6 ุตูุญุงุช)
4. โ STS Updates (ุฌุฏุงูู + ุตูุญุงุช)
5. โ Meters Enhanced (ุชุญุฏูุซุงุช)
6. โ Navigation Updates
7. โ Cron Jobs (3)
8. โ Auto Journal (3 ูุธุงุฆู)

### โ **ูุง ุฃุฒูุชู (ูุงู ูู ุฎุงุฑุทุฉ ุงูุทุฑูู):**
- โ MQTT Client โ ูู ููุฐูุฑ ููููุฉ ูููุตูุฉ
- โ MQTT Listener โ ูู ููุฐูุฑ ููููุฉ ูููุตูุฉ
- โ Webhook Endpoint โ ูู ููุฐูุฑ ูู ุงููููุงุช ุงูุซูุงุซุฉ
- โ Mini-GIS โ ูู ุฎุงุฑุทุฉ ุงูุทุฑูู ููุท

---

**ุงูููู ุงูุขู ูุธูู 100% - ููุท ูู ุงููููุงุช ุงูุซูุงุซุฉ!** โ