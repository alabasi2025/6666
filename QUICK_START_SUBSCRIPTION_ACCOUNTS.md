# ๐ ุฏููู ุงูุจุฏุก ุงูุณุฑูุน - ุญุณุงุจุงุช ุงููุดุชุฑู
## Quick Start Guide - Subscription Accounts

**ุงูุชุงุฑูุฎ:** ุงูุฌูุนุฉุ 10 ููุงูุฑ 2026

---

## โ **ูุง ุชู ุฅูุฌุงุฒู**

### **1. โ Database Schema**
- โ ุฌุฏูู `subscription_accounts` ููุฌูุฏ
- โ ุงูุฃุนูุฏุฉ `subscription_account_id` ููุฌูุฏุฉ ูู:
  - `meters_enhanced`
  - `invoices_enhanced`
  - `payments_enhanced`

### **2. โ APIs ุฌุงูุฒุฉ**
- โ `trpc.subscriptionAccounts.*` ูุชุงุญ ููุงุณุชุฎุฏุงู

### **3. โ Migration ุชู**
- โ **2 ุญุณุงุจ ูุดุชุฑู** ุชู ุฅูุดุงุคู ููุนููุงุก ุงูููุฌูุฏูู

---

## ๐ฏ **ุงููููู ุงููุทููุจ (ููุง ุทูุจุช)**

```
ุญุณุงุจ ุงูุนููู (Customer Account)
  โ
  โโโ ุญุณุงุจ ุงููุดุชุฑู STS
  โ     โโโ ุนุฏุงุฏุงุช STS
  โ           โโโ ููุงุชูุฑ โ
  โ                 โโโ ูุฏููุนุงุช โ
  โ
  โโโ ุญุณุงุจ ุงููุดุชุฑู IoT
  โ     โโโ ุนุฏุงุฏุงุช IoT
  โ           โโโ ููุงุชูุฑ โ
  โ
  โโโ ุญุณุงุจ ุงููุดุชุฑู ุนุงุฏู (Regular)
  โ     โโโ ุนุฏุงุฏุงุช ุนุงุฏูุฉ
  โ           โโโ ููุงุชูุฑ โ
  โ
  โโโ ุญุณุงุจ ุงููุดุชุฑู ุฏุนู ุญูููู (Government Support)
        โโโ ุนุฏุงุฏุงุช ุงูุฏุนู ุงูุญูููู
              โโโ ููุงุชูุฑ โ (ูุน ุญุณุงุจ ุงูุฏุนู ุชููุงุฆูุงู)

ุงููุญูุธุฉ (Wallet) โ ูุฑุชุจุทุฉ ุจุญุณุงุจ ุงูุนููู ูุจุงุดุฑุฉ โ
```

**ุงูุนูููุงุช (ุงูุณุฏุงุฏุ ุงูุงุณุชููุงูุ ุงูููุงุชูุฑ) ุชุญุฏุซ ุนูู ุญุณุงุจุงุช ุงููุดุชุฑู** โ

---

## ๐ง **ููููุฉ ุงูุงุณุชุฎุฏุงู ุงูุขู**

### **1. ุฅูุดุงุก ุญุณุงุจ ูุดุชุฑู ุฌุฏูุฏ:**

```typescript
// ูู Frontend
const result = await trpc.subscriptionAccounts.create.mutate({
  businessId: 1,
  customerId: 123,
  accountType: 'sts', // ุฃู 'iot', 'regular', 'government_support'
  accountName: 'ุญุณุงุจ STS ุงูุฑุฆูุณู',
  serviceType: 'electricity',
  paymentMode: 'prepaid',
});
```

### **2. ุฑุจุท ุนุฏุงุฏ ุจุญุณุงุจ ูุดุชุฑู:**

```typescript
await trpc.subscriptionAccounts.linkMeter.mutate({
  subscriptionAccountId: 5,
  meterId: 10,
});
```

### **3. ุชูููุฏ ุงูููุงุชูุฑ:**

```typescript
// ุงูููุงุชูุฑ ุงูุขู ุชููุดุฃ ุนูู ุญุณุงุจ ุงููุดุชุฑู ุชููุงุฆูุงู
await trpc.billing.generateInvoices.mutate({
  billingPeriodId: 1,
});
// โ ุงูููุงุชูุฑ ุชูุฑุจุท ุจุญุณุงุจ ุงููุดุชุฑู ุงููุฑุชุจุท ุจุงูุนุฏุงุฏ
```

### **4. ุชุญุตูู ุงููุฏููุนุงุช:**

```typescript
// ุงููุฏููุนุงุช ุชุญุฏุซ ุนูู ุญุณุงุจ ุงููุดุชุฑู
await trpc.billing.createPayment.mutate({
  customerId: 123,
  invoiceId: 456,
  amount: "100.00",
  paymentMethod: "cash",
  paymentDate: new Date().toISOString().split("T")[0],
});
// โ ุงูุฏูุนุฉ ุชูุฑุจุท ุจุญุณุงุจ ุงููุดุชุฑู ุชููุงุฆูุงู
// โ ุฑุตูุฏ ุญุณุงุจ ุงููุดุชุฑู ููุญุฏุซ ุชููุงุฆูุงู
```

---

## ๐ **ุงููููู ุงูุญุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**

### **ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ:**
- โ **2 ุญุณุงุจ ุนููู** (customers_enhanced)
- โ **2 ุญุณุงุจ ูุดุชุฑู** (subscription_accounts) - ููุน: regular
- โ๏ธ **0 ุนุฏุงุฏ ูุฑุชุจุท** (ูุญุชุงุฌ ุฑุจุท)
- โ๏ธ **0 ูุงุชูุฑุฉ ูุฑุชุจุทุฉ** (ูุญุชุงุฌ ุฑุจุท)

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

### **1. ุฑุจุท ุงูุนุฏุงุฏุงุช ุงูููุฌูุฏุฉ ุจุญุณุงุจุงุช ุงููุดุชุฑู:**

```typescript
// ููู ุนุฏุงุฏ ููุฌูุฏุ ุฑุจุทู ุจุญุณุงุจ ุงููุดุชุฑู
await trpc.subscriptionAccounts.linkMeter.mutate({
  subscriptionAccountId: 1, // ุญุณุงุจ ุงููุดุชุฑู ููุนููู
  meterId: 1, // ุงูุนุฏุงุฏ ุงููุฑุงุฏ ุฑุจุทู
});
```

### **2. ุฅูุดุงุก ุญุณุงุจุงุช ูุดุชุฑู ุฌุฏูุฏุฉ ุญุณุจ ุงูููุน:**

```typescript
// ุญุณุงุจ STS
await trpc.subscriptionAccounts.create.mutate({
  businessId: 1,
  customerId: 1,
  accountType: 'sts',
  accountName: 'ุญุณุงุจ STS',
  stsMeterId: 1, // ุฑุจุท ูุน ุนุฏุงุฏ STS
});

// ุญุณุงุจ IoT
await trpc.subscriptionAccounts.create.mutate({
  businessId: 1,
  customerId: 1,
  accountType: 'iot',
  accountName: 'ุญุณุงุจ IoT',
  iotDeviceId: 'DEV-001',
});

// ุญุณุงุจ ุฏุนู ุญูููู
await trpc.subscriptionAccounts.create.mutate({
  businessId: 1,
  customerId: 1,
  accountType: 'government_support',
  accountName: 'ุญุณุงุจ ุงูุฏุนู ุงูุญูููู',
  supportType: 'low_income',
  supportPercentage: '50',
  maxSupportAmount: '500.00',
  monthlyQuota: '500.00',
});
```

---

## โ **ุงูุฎูุงุตุฉ**

### **ุชู ุงูุชุทุจูู ุจูุฌุงุญ:**
- โ **ุงููููู ุงูุฃุณุงุณู** ููุฌูุฏ ูุฌุงูุฒ
- โ **APIs** ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
- โ **ุงูุนูููุงุช** ุชุญุฏุซ ุนูู ุญุณุงุจุงุช ุงููุดุชุฑู
- โณ **ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ** ุชุญุชุงุฌ ุฑุจุท ูุฏูู ุฃู script

### **ุงููููู ุงููุทููุจ:**
โ **ุญุณุงุจ ุงูุนููู** โ โ **ุญุณุงุจุงุช ุงููุดุชุฑู** (STS, IoT, Regular, Government Support) โ โ **ุงูุนุฏุงุฏุงุช** โ โ **ุงูููุงุชูุฑ** โ โ **ุงููุฏููุนุงุช**

โ **ุงููุญูุธุฉ** ูุฑุชุจุทุฉ ุจุญุณุงุจ ุงูุนููู ูุจุงุดุฑุฉ

โ **ุงูุนูููุงุช** ุชุญุฏุซ ุนูู ุญุณุงุจุงุช ุงููุดุชุฑู โ

---

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!** โ

**ุงูุฎุทูุฉ ุงูุชุงููุฉ:** ุฅูุดุงุก ุงููุงุฌูุงุช ูุงุณุชุฎุฏุงู ูุฐุง ุงููููู

---

**ุชุงุฑูุฎ ุงูุฅููุงู:** ุงูุฌูุนุฉุ 10 ููุงูุฑ 2026
